<!DOCTYPE html>
<html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"/><meta name="viewport" content="width=device-width, initial-scale=0.8"/><title>3&nbsp;Standard Effects</title><link rel="stylesheet" type="text/css" href="scribble.css" title="default"/><link rel="stylesheet" type="text/css" href="racket.css" title="default"/><link rel="stylesheet" type="text/css" href="manual-style.css" title="default"/><link rel="stylesheet" type="text/css" href="manual-racket.css" title="default"/><script type="text/javascript" src="scribble-common.js"></script><script type="text/javascript" src="manual-racket.js"></script></head><body id="scribble-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist tocviewlisttopspace"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9660;</a></td><td></td><td><a href="index.html" class="tocviewlink" data-pltdoc="x">Algebraic Effects</a></td></tr></table></div><div class="tocviewsublisttop" style="display: block;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right">1&nbsp;</td><td><a href="Core_Effects_API.html" class="tocviewlink" data-pltdoc="x">Core Effects API</a></td></tr><tr><td align="right">2&nbsp;</td><td><a href="Syntactic_Forms.html" class="tocviewlink" data-pltdoc="x">Syntactic Forms</a></td></tr><tr><td align="right">3&nbsp;</td><td><a href="Standard_Effects.html" class="tocviewselflink" data-pltdoc="x">Standard Effects</a></td></tr></table></div></div><div class="tocviewlist"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_1&quot;);">&#9658;</a></td><td>3&nbsp;</td><td><a href="Standard_Effects.html" class="tocviewselflink" data-pltdoc="x">Standard Effects</a></td></tr></table><div class="tocviewsublistbottom" style="display: none;" id="tocview_1"><table cellspacing="0" cellpadding="0"><tr><td align="right">3.1&nbsp;</td><td><a href="Standard_Effects.html#%28part._.Understanding_.Basic_.Effects%29" class="tocviewlink" data-pltdoc="x">Understanding Basic Effects</a></td></tr><tr><td align="right">3.2&nbsp;</td><td><a href="Standard_Effects.html#%28part._.System_.Commands%29" class="tocviewlink" data-pltdoc="x">System Commands</a></td></tr><tr><td align="right">3.3&nbsp;</td><td><a href="Standard_Effects.html#%28part._.H.T.T.P_.Requests%29" class="tocviewlink" data-pltdoc="x">HTTP Requests</a></td></tr><tr><td align="right">3.4&nbsp;</td><td><a href="Standard_Effects.html#%28part._.Abort_.Effect%29" class="tocviewlink" data-pltdoc="x">Abort Effect</a></td></tr><tr><td align="right">3.5&nbsp;</td><td><a href="Standard_Effects.html#%28part._.Logging%29" class="tocviewlink" data-pltdoc="x">Logging</a></td></tr><tr><td align="right">3.6&nbsp;</td><td><a href="Standard_Effects.html#%28part._.File_.System%29" class="tocviewlink" data-pltdoc="x">File System</a></td></tr><tr><td align="right">3.7&nbsp;</td><td><a href="Standard_Effects.html#%28part._.Try-.Catch_.Pattern%29" class="tocviewlink" data-pltdoc="x">Try-<wbr></wbr>Catch Pattern</a></td></tr></table></div></div></div><div class="tocsub"><div class="tocsubtitle">On this page:</div><table class="tocsublist" cellspacing="0"><tr><td><span class="tocsublinknumber">3.1<span class="stt">&nbsp;</span></span><a href="#%28part._.Understanding_.Basic_.Effects%29" class="tocsubseclink" data-pltdoc="x">Understanding Basic Effects</a></td></tr><tr><td><a href="#%28def._%28%28lib._freer-lib%2Feffects%2Fid-effect..rkt%29._id-effect%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">id-<wbr></wbr>effect</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._freer-lib%2Feffects%2Fid-effect..rkt%29._id%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">id</span></span></a></td></tr><tr><td><span class="tocsublinknumber">3.2<span class="stt">&nbsp;</span></span><a href="#%28part._.System_.Commands%29" class="tocsubseclink" data-pltdoc="x">System Commands</a></td></tr><tr><td><a href="#%28def._%28%28lib._freer-lib%2Feffects%2Fcmd-effect..rkt%29._cmd-effect%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">cmd-<wbr></wbr>effect</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._freer-lib%2Feffects%2Fcmd-effect..rkt%29._cmd-result%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">cmd-<wbr></wbr>result</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._freer-lib%2Feffects%2Fcmd-effect..rkt%29._cmd%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">cmd</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._freer-lib%2Feffects%2Fcmd-effect..rkt%29._execute-command%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">execute-<wbr></wbr>command</span></span></a></td></tr><tr><td><span class="tocsublinknumber">3.3<span class="stt">&nbsp;</span></span><a href="#%28part._.H.T.T.P_.Requests%29" class="tocsubseclink" data-pltdoc="x">HTTP Requests</a></td></tr><tr><td><a href="#%28def._%28%28lib._freer-lib%2Feffects%2Fhttp-effect..rkt%29._http-effect%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">http-<wbr></wbr>effect</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._freer-lib%2Feffects%2Fhttp-effect..rkt%29._http-get%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">http-<wbr></wbr>get</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._freer-lib%2Feffects%2Fhttp-effect..rkt%29._http-post%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">http-<wbr></wbr>post</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._freer-lib%2Feffects%2Fhttp-effect..rkt%29._http-put%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">http-<wbr></wbr>put</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._freer-lib%2Feffects%2Fhttp-effect..rkt%29._http-patch%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">http-<wbr></wbr>patch</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._freer-lib%2Feffects%2Fhttp-effect..rkt%29._http-delete%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">http-<wbr></wbr>delete</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._freer-lib%2Feffects%2Fhttp-effect..rkt%29._perform-http-request%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">perform-<wbr></wbr>http-<wbr></wbr>request</span></span></a></td></tr><tr><td><span class="tocsublinknumber">3.4<span class="stt">&nbsp;</span></span><a href="#%28part._.Abort_.Effect%29" class="tocsubseclink" data-pltdoc="x">Abort Effect</a></td></tr><tr><td><a href="#%28def._%28%28lib._freer-lib%2Feffects%2Fabort-effect..rkt%29._abort-effect%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">abort-<wbr></wbr>effect</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._freer-lib%2Feffects%2Fabort-effect..rkt%29._abort%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">abort</span></span></a></td></tr><tr><td><span class="tocsublinknumber">3.5<span class="stt">&nbsp;</span></span><a href="#%28part._.Logging%29" class="tocsubseclink" data-pltdoc="x">Logging</a></td></tr><tr><td><a href="#%28def._%28%28lib._freer-lib%2Feffects%2Flog-effect..rkt%29._log-effect%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">log-<wbr></wbr>effect</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._freer-lib%2Feffects%2Flog-effect..rkt%29._log-dbg%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">log-<wbr></wbr>dbg</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._freer-lib%2Feffects%2Flog-effect..rkt%29._log-inf%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">log-<wbr></wbr>inf</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._freer-lib%2Feffects%2Flog-effect..rkt%29._log-err%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">log-<wbr></wbr>err</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._freer-lib%2Feffects%2Flog-effect..rkt%29._default-log-display%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym">default-<wbr></wbr>log-<wbr></wbr>display</span></a></td></tr><tr><td><a href="#%28def._%28%28lib._freer-lib%2Feffects%2Flog-effect..rkt%29._write-log%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">write-<wbr></wbr>log</span></span></a></td></tr><tr><td><span class="tocsublinknumber">3.6<span class="stt">&nbsp;</span></span><a href="#%28part._.File_.System%29" class="tocsubseclink" data-pltdoc="x">File System</a></td></tr><tr><td><span class="tocsublinknumber">3.6.1<span class="stt">&nbsp;</span></span><a href="#%28part._.Structs%29" class="tocsubseclink" data-pltdoc="x">Structs</a></td></tr><tr><td><a href="#%28def._%28%28lib._freer-lib%2Feffects%2Ffile-system-effect..rkt%29._read-file-effect%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">read-<wbr></wbr>file-<wbr></wbr>effect</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._freer-lib%2Feffects%2Ffile-system-effect..rkt%29._write-file-effect%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">write-<wbr></wbr>file-<wbr></wbr>effect</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._freer-lib%2Feffects%2Ffile-system-effect..rkt%29._create-folder-effect%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">create-<wbr></wbr>folder-<wbr></wbr>effect</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._freer-lib%2Feffects%2Ffile-system-effect..rkt%29._check-path-effect%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">check-<wbr></wbr>path-<wbr></wbr>effect</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._freer-lib%2Feffects%2Ffile-system-effect..rkt%29._delete-path-effect%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">delete-<wbr></wbr>path-<wbr></wbr>effect</span></span></a></td></tr><tr><td><span class="tocsublinknumber">3.6.2<span class="stt">&nbsp;</span></span><a href="#%28part._.Procedures%29" class="tocsubseclink" data-pltdoc="x">Procedures</a></td></tr><tr><td><a href="#%28def._%28%28lib._freer-lib%2Feffects%2Ffile-system-effect..rkt%29._read-file%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">read-<wbr></wbr>file</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._freer-lib%2Feffects%2Ffile-system-effect..rkt%29._write-file%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">write-<wbr></wbr>file</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._freer-lib%2Feffects%2Ffile-system-effect..rkt%29._create-folder%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">create-<wbr></wbr>folder</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._freer-lib%2Feffects%2Ffile-system-effect..rkt%29._check-path%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">check-<wbr></wbr>path</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._freer-lib%2Feffects%2Ffile-system-effect..rkt%29._delete-path%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">delete-<wbr></wbr>path</span></span></a></td></tr><tr><td><span class="tocsublinknumber">3.6.3<span class="stt">&nbsp;</span></span><a href="#%28part._.Default_.Handlers%29" class="tocsubseclink" data-pltdoc="x">Default Handlers</a></td></tr><tr><td><a href="#%28def._%28%28lib._freer-lib%2Feffects%2Ffile-system-effect..rkt%29._do-read-file%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">do-<wbr></wbr>read-<wbr></wbr>file</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._freer-lib%2Feffects%2Ffile-system-effect..rkt%29._do-write-file%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">do-<wbr></wbr>write-<wbr></wbr>file</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._freer-lib%2Feffects%2Ffile-system-effect..rkt%29._do-create-folder%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">do-<wbr></wbr>create-<wbr></wbr>folder</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._freer-lib%2Feffects%2Ffile-system-effect..rkt%29._do-check-path%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">do-<wbr></wbr>check-<wbr></wbr>path</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._freer-lib%2Feffects%2Ffile-system-effect..rkt%29._do-delete-path%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">do-<wbr></wbr>delete-<wbr></wbr>path</span></span></a></td></tr><tr><td><span class="tocsublinknumber">3.6.4<span class="stt">&nbsp;</span></span><a href="#%28part._.Usage_.Example%29" class="tocsubseclink" data-pltdoc="x">Usage Example</a></td></tr><tr><td><span class="tocsublinknumber">3.7<span class="stt">&nbsp;</span></span><a href="#%28part._.Try-.Catch_.Pattern%29" class="tocsubseclink" data-pltdoc="x">Try-<wbr></wbr>Catch Pattern</a></td></tr><tr><td><a href="#%28def._%28%28lib._freer-lib%2Ftry-catch..rkt%29._try%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">try</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._freer-lib%2Ftry-catch..rkt%29._catch%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">catch</span></span></a></td></tr><tr><td><span class="tocsublinknumber">3.7.1<span class="stt">&nbsp;</span></span><a href="#%28part._.Usage_.Pattern%29" class="tocsubseclink" data-pltdoc="x">Usage Pattern</a></td></tr></table></div></div><div class="maincolumn"><div class="main"><div class="versionbox"><span class="version">9.0</span></div><div class="navsettop"><span class="navleft"><div class="nosearchform"></div>&nbsp;&nbsp;<span class="tocsettoggle">&nbsp;&nbsp;<a href="javascript:void(0);" title="show/hide table of contents" onclick="TocsetToggle();">contents</a></span></span><span class="navright">&nbsp;&nbsp;<a href="Syntactic_Forms.html" title="backward to &quot;2 Syntactic Forms&quot;" data-pltdoc="x" rel="prev">&larr; prev</a>&nbsp;&nbsp;<a href="index.html" title="up to &quot;Algebraic Effects&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<span class="nonavigation">next &rarr;</span></span>&nbsp;</div><section class="SsectionLevel2" id="section 3"><h2 class="heading">3<span class="stt">&nbsp;</span><a name="(part._.Standard_.Effects)"></a>Standard Effects<span class="button-group"><a href="#(part._.Standard_.Effects)" class="heading-anchor" title="Link to here">ðŸ”—</a><span style="visibility: hidden"> </span></span></h2><p>While the core library allows you to define any effect you wish, this module provides a set of common, pre-defined effects for everyday tasks like Input/Output, HTTP requests, system commands, and logging.</p><p>These effects come with companion **default handlers**. You are not required to use these handlers&#8212;you can write your own interpreters for <span class="RktSym"><a href="Standard_Effects.html#%28def._%28%28lib._freer-lib%2Feffects%2Fcmd-effect..rkt%29._cmd-effect%29%29" class="RktValLink" data-pltdoc="x">cmd-effect</a></span>, <span class="RktSym"><a href="Standard_Effects.html#%28def._%28%28lib._freer-lib%2Feffects%2Fhttp-effect..rkt%29._http-effect%29%29" class="RktValLink" data-pltdoc="x">http-effect</a></span>, or <span class="RktSym"><a href="Standard_Effects.html#%28def._%28%28lib._freer-lib%2Feffects%2Flog-effect..rkt%29._log-effect%29%29" class="RktValLink" data-pltdoc="x">log-effect</a></span> if you wish to mock them for testing&#8212;but the default handlers provide production-ready implementations.</p><section class="SsectionLevel3" id="section 3.1"><h3 class="heading">3.1<span class="stt">&nbsp;</span><a name="(part._.Understanding_.Basic_.Effects)"></a><a name="(mod-path._freer-lib/effects/id-effect)"></a>Understanding Basic Effects<span class="button-group"><a href="#(part._.Understanding_.Basic_.Effects)" class="heading-anchor" title="Link to here">ðŸ”—</a><span style="visibility: hidden"> </span></span></h3><p>To understand how these standard effects work, consider the simplest one: the Identity effect.</p><p><table cellspacing="0" cellpadding="0" class="defmodule"><tr><td align="left"><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/require.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._require%29%29" class="RktStxLink" data-pltdoc="x">require</a></span><span class="stt"> </span><a href="Standard_Effects.html#%28mod-path._freer-lib%2Feffects%2Fid-effect%29" class="RktModLink" data-pltdoc="x"><span class="RktSym">freer-lib/effects/id-effect</span></a><span class="RktPn">)</span></td><td align="right"><span class="RpackageSpec"><span class="Smaller">&nbsp;package:</span> <a href="https://pkgs.racket-lang.org/package/freer-lib" title="Install this package using `raco pkg install freer-lib`"><span class="stt">freer-lib</span></a></span></td></tr></table></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>struct</p></div></div><table cellspacing="0" cellpadding="0" class="RForeground"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/define-struct.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._struct%29%29" class="RktStxLink" data-pltdoc="x">struct</a></span></td><td><span class="hspace">&nbsp;</span></td><td><a name="(def._((lib._freer-lib/effects/id-effect..rkt)._id-effect-value))"></a><a name="(def._((lib._freer-lib/effects/id-effect..rkt)._make-id-effect))"></a><a name="(def._((lib._freer-lib/effects/id-effect..rkt)._id-effect~3f))"></a><a name="(def._((lib._freer-lib/effects/id-effect..rkt)._struct~3aid-effect))"></a><a name="(def._((lib._freer-lib/effects/id-effect..rkt)._id-effect))"></a><span title="Provided from: freer-lib/effects/id-effect | Package: freer-lib"><span class="RktSym"><a href="Standard_Effects.html#%28def._%28%28lib._freer-lib%2Feffects%2Fid-effect..rkt%29._id-effect%29%29" class="RktValDef RktValLink" data-pltdoc="x">id-effect</a></span></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">value</span><span class="RktPn">)</span></td></tr></table></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">#:extra-constructor-name</span><span class="hspace">&nbsp;</span><span class="RktSym">make-id-effect</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">#:transparent</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">value</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fprivate%2Fmisc..rkt%29._any%2Fc%29%29" class="RktValLink" data-pltdoc="x">any/c</a></span></td></tr></table></blockquote></div><div class="SIntrapara">A descriptor that simply holds a value.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._freer-lib/effects/id-effect..rkt)._id))"></a><span title="Provided from: freer-lib/effects/id-effect | Package: freer-lib"><span class="RktSym"><a href="Standard_Effects.html#%28def._%28%28lib._freer-lib%2Feffects%2Fid-effect..rkt%29._id%29%29" class="RktValDef RktValLink" data-pltdoc="x">id</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">v</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">impure?</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">v</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fprivate%2Fmisc..rkt%29._any%2Fc%29%29" class="RktValLink" data-pltdoc="x">any/c</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Constructs an effect that wraps <span class="RktVar">v</span>.</div></p><p>When you use <span class="RktSym"><a href="Standard_Effects.html#%28def._%28%28lib._freer-lib%2Feffects%2Fid-effect..rkt%29._id%29%29" class="RktValLink" data-pltdoc="x">id</a></span>, you are effectively pausing the computation to hand a value to the handler, which is expected to hand it right back.</p><p><div class="SIntrapara">Examples:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">computation</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Syntactic_Forms.html#%28form._%28%28lib._freer-lib%2Fmain..rkt%29._do%29%29" class="RktStxLink" data-pltdoc="x">do</a></span><span class="hspace">&nbsp;</span><span class="RktPn">[</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="RktSym">&lt;-</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Standard_Effects.html#%28def._%28%28lib._freer-lib%2Feffects%2Fid-effect..rkt%29._id%29%29" class="RktValLink" data-pltdoc="x">id</a></span><span class="hspace">&nbsp;</span><span class="RktVal">10</span><span class="RktPn">)</span><span class="RktPn">]</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktSym">y</span><span class="hspace">&nbsp;</span><span class="RktSym">&lt;-</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Standard_Effects.html#%28def._%28%28lib._freer-lib%2Feffects%2Fid-effect..rkt%29._id%29%29" class="RktValLink" data-pltdoc="x">id</a></span><span class="hspace">&nbsp;</span><span class="RktVal">20</span><span class="RktPn">)</span><span class="RktPn">]</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Core_Effects_API.html#%28def._%28%28lib._freer-lib%2Fmain..rkt%29._return%29%29" class="RktValLink" data-pltdoc="x">return</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/generic-numbers.html#%28def._%28%28quote._~23~25kernel%29._%2B%29%29" class="RktValLink" data-pltdoc="x">+</a></span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="RktSym">y</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="Core_Effects_API.html#%28def._%28%28lib._freer-lib%2Fmain..rkt%29._run%29%29" class="RktValLink" data-pltdoc="x">run</a></span><span class="hspace">&nbsp;</span><span class="RktSym">computation</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/lambda.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._lambda%29%29" class="RktStxLink" data-pltdoc="x">lambda</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">eff</span><span class="hspace">&nbsp;</span><span class="RktSym">k</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/match.html#%28form._%28%28lib._racket%2Fmatch..rkt%29._match%29%29" class="RktStxLink" data-pltdoc="x">match</a></span><span class="hspace">&nbsp;</span><span class="RktSym">eff</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktSym"><a href="Standard_Effects.html#%28def._%28%28lib._freer-lib%2Feffects%2Fid-effect..rkt%29._id-effect%29%29" class="RktValLink" data-pltdoc="x">id-effect</a></span><span class="hspace">&nbsp;</span><span class="RktSym">v</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">k</span><span class="hspace">&nbsp;</span><span class="RktSym">v</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><p><span class="RktRes">30</span></p></td></tr></table></blockquote></div></p></section><section class="SsectionLevel3" id="section 3.2"><h3 class="heading">3.2<span class="stt">&nbsp;</span><a name="(part._.System_.Commands)"></a><a name="(mod-path._freer-lib/effects/cmd-effect)"></a>System Commands<span class="button-group"><a href="#(part._.System_.Commands)" class="heading-anchor" title="Link to here">ðŸ”—</a><span style="visibility: hidden"> </span></span></h3><p><table cellspacing="0" cellpadding="0" class="defmodule"><tr><td align="left"><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/require.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._require%29%29" class="RktStxLink" data-pltdoc="x">require</a></span><span class="stt"> </span><a href="Standard_Effects.html#%28mod-path._freer-lib%2Feffects%2Fcmd-effect%29" class="RktModLink" data-pltdoc="x"><span class="RktSym">freer-lib/effects/cmd-effect</span></a><span class="RktPn">)</span></td><td align="right"><span class="RpackageSpec"><span class="Smaller">&nbsp;package:</span> <a href="https://pkgs.racket-lang.org/package/freer-lib" title="Install this package using `raco pkg install freer-lib`"><span class="stt">freer-lib</span></a></span></td></tr></table></p><p>This module provides effects for executing shell commands and capturing their output.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>struct</p></div></div><table cellspacing="0" cellpadding="0" class="RForeground"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/define-struct.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._struct%29%29" class="RktStxLink" data-pltdoc="x">struct</a></span></td><td><span class="hspace">&nbsp;</span></td><td><a name="(def._((lib._freer-lib/effects/cmd-effect..rkt)._cmd-effect-command))"></a><a name="(def._((lib._freer-lib/effects/cmd-effect..rkt)._make-cmd-effect))"></a><a name="(def._((lib._freer-lib/effects/cmd-effect..rkt)._cmd-effect~3f))"></a><a name="(def._((lib._freer-lib/effects/cmd-effect..rkt)._struct~3acmd-effect))"></a><a name="(def._((lib._freer-lib/effects/cmd-effect..rkt)._cmd-effect))"></a><span title="Provided from: freer-lib/effects/cmd-effect | Package: freer-lib"><span class="RktSym"><a href="Standard_Effects.html#%28def._%28%28lib._freer-lib%2Feffects%2Fcmd-effect..rkt%29._cmd-effect%29%29" class="RktValDef RktValLink" data-pltdoc="x">cmd-effect</a></span></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">command</span><span class="RktPn">)</span></td></tr></table></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">#:extra-constructor-name</span><span class="hspace">&nbsp;</span><span class="RktSym">make-cmd-effect</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">#:transparent</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">command</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/strings.html#%28def._%28%28quote._~23~25kernel%29._string~3f%29%29" class="RktValLink" data-pltdoc="x">string?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">An effect descriptor for running a system command.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>struct</p></div></div><table cellspacing="0" cellpadding="0" class="RForeground"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/define-struct.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._struct%29%29" class="RktStxLink" data-pltdoc="x">struct</a></span></td><td><span class="hspace">&nbsp;</span></td><td><a name="(def._((lib._freer-lib/effects/cmd-effect..rkt)._cmd-result-exit-code))"></a><a name="(def._((lib._freer-lib/effects/cmd-effect..rkt)._cmd-result-err))"></a><a name="(def._((lib._freer-lib/effects/cmd-effect..rkt)._cmd-result-out))"></a><a name="(def._((lib._freer-lib/effects/cmd-effect..rkt)._make-cmd-result))"></a><a name="(def._((lib._freer-lib/effects/cmd-effect..rkt)._cmd-result~3f))"></a><a name="(def._((lib._freer-lib/effects/cmd-effect..rkt)._struct~3acmd-result))"></a><a name="(def._((lib._freer-lib/effects/cmd-effect..rkt)._cmd-result))"></a><span title="Provided from: freer-lib/effects/cmd-effect | Package: freer-lib"><span class="RktSym"><a href="Standard_Effects.html#%28def._%28%28lib._freer-lib%2Feffects%2Fcmd-effect..rkt%29._cmd-result%29%29" class="RktValDef RktValLink" data-pltdoc="x">cmd-result</a></span></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">out</span><span class="stt"> </span><span class="RktSym">err</span><span class="stt"> </span><span class="RktSym">exit-code</span><span class="RktPn">)</span></td></tr></table></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">#:extra-constructor-name</span><span class="hspace">&nbsp;</span><span class="RktSym">make-cmd-result</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">#:transparent</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">out</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/strings.html#%28def._%28%28quote._~23~25kernel%29._string~3f%29%29" class="RktValLink" data-pltdoc="x">string?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">err</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/strings.html#%28def._%28%28quote._~23~25kernel%29._string~3f%29%29" class="RktValLink" data-pltdoc="x">string?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">exit-code</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/bytestrings.html#%28def._%28%28quote._~23~25kernel%29._byte~3f%29%29" class="RktValLink" data-pltdoc="x">byte?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">The structure returned by the handler after a command completes successfully.
</div><div class="SIntrapara"><ul><li><p><span class="RktSym">out</span>: Standard output captured as a string.</p></li><li><p><span class="RktSym">err</span>: Standard error captured as a string.</p></li><li><p><span class="RktSym">exit-code</span>: The integer exit code of the process.</p></li></ul></div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._freer-lib/effects/cmd-effect..rkt)._cmd))"></a><span title="Provided from: freer-lib/effects/cmd-effect | Package: freer-lib"><span class="RktSym"><a href="Standard_Effects.html#%28def._%28%28lib._freer-lib%2Feffects%2Fcmd-effect..rkt%29._cmd%29%29" class="RktValDef RktValLink" data-pltdoc="x">cmd</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">command</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">impure?</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">command</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/strings.html#%28def._%28%28quote._~23~25kernel%29._string~3f%29%29" class="RktValLink" data-pltdoc="x">string?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Creates an effect that requests the execution of <span class="RktVar">command</span>.</div></p><p><div class="SIntrapara">Example:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">check-status</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Syntactic_Forms.html#%28form._%28%28lib._freer-lib%2Fmain..rkt%29._do%29%29" class="RktStxLink" data-pltdoc="x">do</a></span><span class="hspace">&nbsp;</span><span class="RktPn">[</span><span class="RktSym">res</span><span class="hspace">&nbsp;</span><span class="RktSym">&lt;-</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Standard_Effects.html#%28def._%28%28lib._freer-lib%2Feffects%2Fcmd-effect..rkt%29._cmd%29%29" class="RktValLink" data-pltdoc="x">cmd</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"echo \"checking git status\""</span><span class="RktPn">)</span><span class="RktPn">]</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/if.html#%28form._%28%28quote._~23~25kernel%29._if%29%29" class="RktStxLink" data-pltdoc="x">if</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/number-types.html#%28def._%28%28quote._~23~25kernel%29._zero~3f%29%29" class="RktValLink" data-pltdoc="x">zero?</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Standard_Effects.html#%28def._%28%28lib._freer-lib%2Feffects%2Fcmd-effect..rkt%29._cmd-result-exit-code%29%29" class="RktValLink" data-pltdoc="x">cmd-result-exit-code</a></span><span class="hspace">&nbsp;</span><span class="RktSym">res</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Core_Effects_API.html#%28def._%28%28lib._freer-lib%2Fmain..rkt%29._return%29%29" class="RktValLink" data-pltdoc="x">return</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Standard_Effects.html#%28def._%28%28lib._freer-lib%2Feffects%2Fcmd-effect..rkt%29._cmd-result-out%29%29" class="RktValLink" data-pltdoc="x">cmd-result-out</a></span><span class="hspace">&nbsp;</span><span class="RktSym">res</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Core_Effects_API.html#%28def._%28%28lib._freer-lib%2Fmain..rkt%29._return%29%29" class="RktValLink" data-pltdoc="x">return</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"Git check failed"</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr></table></blockquote></div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._freer-lib/effects/cmd-effect..rkt)._execute-command))"></a><span title="Provided from: freer-lib/effects/cmd-effect | Package: freer-lib"><span class="RktSym"><a href="Standard_Effects.html#%28def._%28%28lib._freer-lib%2Feffects%2Fcmd-effect..rkt%29._execute-command%29%29" class="RktValDef RktValLink" data-pltdoc="x">execute-command</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">command</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="Standard_Effects.html#%28def._%28%28lib._freer-lib%2Feffects%2Fcmd-effect..rkt%29._cmd-result~3f%29%29" class="RktValLink" data-pltdoc="x">cmd-result?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">command</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/strings.html#%28def._%28%28quote._~23~25kernel%29._string~3f%29%29" class="RktValLink" data-pltdoc="x">string?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">The default implementation for executing commands. It attempts to run the <span class="RktVar">command</span> string using the system&rsquo;s shell (specifically targeting PowerShell on Windows environments).</div></p><ul><li><p><span class="emph">Success</span>: Returns a <span class="RktSym"><a href="Standard_Effects.html#%28def._%28%28lib._freer-lib%2Feffects%2Fcmd-effect..rkt%29._cmd-result%29%29" class="RktValLink" data-pltdoc="x">cmd-result</a></span> structure containing the output, error output, and exit code.</p></li><li><p><span class="emph">Failure</span>: If an error occurs during execution (such as the shell not being found), raises an exception with the error message.</p></li></ul><p><div class="SIntrapara">Example:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="Core_Effects_API.html#%28def._%28%28lib._freer-lib%2Fmain..rkt%29._run%29%29" class="RktValLink" data-pltdoc="x">run</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">check-status</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/lambda.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._lambda%29%29" class="RktStxLink" data-pltdoc="x">lambda</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">eff</span><span class="hspace">&nbsp;</span><span class="RktSym">k</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/match.html#%28form._%28%28lib._racket%2Fmatch..rkt%29._match%29%29" class="RktStxLink" data-pltdoc="x">match</a></span><span class="hspace">&nbsp;</span><span class="RktSym">eff</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktSym"><a href="Standard_Effects.html#%28def._%28%28lib._freer-lib%2Feffects%2Fcmd-effect..rkt%29._cmd-effect%29%29" class="RktValLink" data-pltdoc="x">cmd-effect</a></span><span class="hspace">&nbsp;</span><span class="RktSym">c</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">k</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Standard_Effects.html#%28def._%28%28lib._freer-lib%2Feffects%2Fcmd-effect..rkt%29._execute-command%29%29" class="RktValLink" data-pltdoc="x">execute-command</a></span><span class="hspace">&nbsp;</span><span class="RktSym">c</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><p><span class="RktRes">"checking git status\r\n"</span></p></td></tr></table></blockquote></div></p></section><section class="SsectionLevel3" id="section 3.3"><h3 class="heading">3.3<span class="stt">&nbsp;</span><a name="(part._.H.T.T.P_.Requests)"></a><a name="(mod-path._freer-lib/effects/http-effect)"></a>HTTP Requests<span class="button-group"><a href="#(part._.H.T.T.P_.Requests)" class="heading-anchor" title="Link to here">ðŸ”—</a><span style="visibility: hidden"> </span></span></h3><p><table cellspacing="0" cellpadding="0" class="defmodule"><tr><td align="left"><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/require.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._require%29%29" class="RktStxLink" data-pltdoc="x">require</a></span><span class="stt"> </span><a href="Standard_Effects.html#%28mod-path._freer-lib%2Feffects%2Fhttp-effect%29" class="RktModLink" data-pltdoc="x"><span class="RktSym">freer-lib/effects/http-effect</span></a><span class="RktPn">)</span></td><td align="right"><span class="RpackageSpec"><span class="Smaller">&nbsp;package:</span> <a href="https://pkgs.racket-lang.org/package/freer-lib" title="Install this package using `raco pkg install freer-lib`"><span class="stt">freer-lib</span></a></span></td></tr></table></p><p>This module provides effects for performing HTTP network requests.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>struct</p></div></div><table cellspacing="0" cellpadding="0" class="RForeground"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/define-struct.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._struct%29%29" class="RktStxLink" data-pltdoc="x">struct</a></span></td><td><span class="hspace">&nbsp;</span></td><td><a name="(def._((lib._freer-lib/effects/http-effect..rkt)._http-effect-body))"></a><a name="(def._((lib._freer-lib/effects/http-effect..rkt)._http-effect-headers))"></a><a name="(def._((lib._freer-lib/effects/http-effect..rkt)._http-effect-method))"></a><a name="(def._((lib._freer-lib/effects/http-effect..rkt)._http-effect-url))"></a><a name="(def._((lib._freer-lib/effects/http-effect..rkt)._make-http-effect))"></a><a name="(def._((lib._freer-lib/effects/http-effect..rkt)._http-effect~3f))"></a><a name="(def._((lib._freer-lib/effects/http-effect..rkt)._struct~3ahttp-effect))"></a><a name="(def._((lib._freer-lib/effects/http-effect..rkt)._http-effect))"></a><span title="Provided from: freer-lib/effects/http-effect | Package: freer-lib"><span class="RktSym"><a href="Standard_Effects.html#%28def._%28%28lib._freer-lib%2Feffects%2Fhttp-effect..rkt%29._http-effect%29%29" class="RktValDef RktValLink" data-pltdoc="x">http-effect</a></span></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">url</span><span class="stt"> </span><span class="RktSym">method</span><span class="stt"> </span><span class="RktSym">headers</span><span class="stt"> </span><span class="RktSym">body</span><span class="RktPn">)</span></td></tr></table></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">#:extra-constructor-name</span><span class="hspace">&nbsp;</span><span class="RktSym">make-http-effect</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">#:transparent</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">url</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/net/url.html#%28def._%28%28lib._net%2Furl-structs..rkt%29._url~3f%29%29" class="RktValLink" data-pltdoc="x">url?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">method</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/symbols.html#%28def._%28%28quote._~23~25kernel%29._symbol~3f%29%29" class="RktValLink" data-pltdoc="x">symbol?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">headers</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fbase..rkt%29._listof%29%29" class="RktValLink" data-pltdoc="x">listof</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/strings.html#%28def._%28%28quote._~23~25kernel%29._string~3f%29%29" class="RktValLink" data-pltdoc="x">string?</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">body</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fbase..rkt%29._or%2Fc%29%29" class="RktValLink" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/bytestrings.html#%28def._%28%28quote._~23~25kernel%29._bytes~3f%29%29" class="RktValLink" data-pltdoc="x">bytes?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/strings.html#%28def._%28%28quote._~23~25kernel%29._string~3f%29%29" class="RktValLink" data-pltdoc="x">string?</a></span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">The descriptor containing all necessary information to perform a request.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._freer-lib/effects/http-effect..rkt)._http-get))"></a><span title="Provided from: freer-lib/effects/http-effect | Package: freer-lib"><span class="RktSym"><a href="Standard_Effects.html#%28def._%28%28lib._freer-lib%2Feffects%2Fhttp-effect..rkt%29._http-get%29%29" class="RktValDef RktValLink" data-pltdoc="x">http-get</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">url</span><span class="hspace">&nbsp;</span><span class="RktVar">headers</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">impure?</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">url</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/strings.html#%28def._%28%28quote._~23~25kernel%29._string~3f%29%29" class="RktValLink" data-pltdoc="x">string?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">headers</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fbase..rkt%29._listof%29%29" class="RktValLink" data-pltdoc="x">listof</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/strings.html#%28def._%28%28quote._~23~25kernel%29._string~3f%29%29" class="RktValLink" data-pltdoc="x">string?</a></span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">Creates a GET request effect.</div></p><p><div class="SIntrapara">Example:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">fetch-home</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Syntactic_Forms.html#%28form._%28%28lib._freer-lib%2Fmain..rkt%29._do%29%29" class="RktStxLink" data-pltdoc="x">do</a></span><span class="hspace">&nbsp;</span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/pairs.html#%28def._%28%28quote._~23~25kernel%29._list%29%29" class="RktValLink" data-pltdoc="x">list</a></span><span class="hspace">&nbsp;</span><span class="RktSym">status</span><span class="hspace">&nbsp;</span><span class="RktVar">headers</span><span class="hspace">&nbsp;</span><span class="RktSym">body</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym">&lt;-</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Standard_Effects.html#%28def._%28%28lib._freer-lib%2Feffects%2Fhttp-effect..rkt%29._http-get%29%29" class="RktValLink" data-pltdoc="x">http-get</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"https://racket-lang.org"</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">)</span><span class="RktPn">)</span><span class="RktPn">]</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Core_Effects_API.html#%28def._%28%28lib._freer-lib%2Fmain..rkt%29._return%29%29" class="RktValLink" data-pltdoc="x">return</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/Writing.html#%28def._%28%28quote._~23~25kernel%29._format%29%29" class="RktValLink" data-pltdoc="x">format</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"Status: ~a, Body length: ~a"</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym">status</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/strings.html#%28def._%28%28quote._~23~25kernel%29._string-length%29%29" class="RktValLink" data-pltdoc="x">string-length</a></span><span class="hspace">&nbsp;</span><span class="RktSym">body</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr></table></blockquote></div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._freer-lib/effects/http-effect..rkt)._http-post))"></a><span title="Provided from: freer-lib/effects/http-effect | Package: freer-lib"><span class="RktSym"><a href="Standard_Effects.html#%28def._%28%28lib._freer-lib%2Feffects%2Fhttp-effect..rkt%29._http-post%29%29" class="RktValDef RktValLink" data-pltdoc="x">http-post</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">url</span><span class="hspace">&nbsp;</span><span class="RktVar">headers</span><span class="hspace">&nbsp;</span><span class="RktVar">body</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">impure?</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">url</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/strings.html#%28def._%28%28quote._~23~25kernel%29._string~3f%29%29" class="RktValLink" data-pltdoc="x">string?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">headers</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fbase..rkt%29._listof%29%29" class="RktValLink" data-pltdoc="x">listof</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/strings.html#%28def._%28%28quote._~23~25kernel%29._string~3f%29%29" class="RktValLink" data-pltdoc="x">string?</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">body</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fbase..rkt%29._or%2Fc%29%29" class="RktValLink" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/bytestrings.html#%28def._%28%28quote._~23~25kernel%29._bytes~3f%29%29" class="RktValLink" data-pltdoc="x">bytes?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/strings.html#%28def._%28%28quote._~23~25kernel%29._string~3f%29%29" class="RktValLink" data-pltdoc="x">string?</a></span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">Creates a POST request effect.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._freer-lib/effects/http-effect..rkt)._http-put))"></a><span title="Provided from: freer-lib/effects/http-effect | Package: freer-lib"><span class="RktSym"><a href="Standard_Effects.html#%28def._%28%28lib._freer-lib%2Feffects%2Fhttp-effect..rkt%29._http-put%29%29" class="RktValDef RktValLink" data-pltdoc="x">http-put</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">url</span><span class="hspace">&nbsp;</span><span class="RktVar">headers</span><span class="hspace">&nbsp;</span><span class="RktVar">body</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">impure?</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">url</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/strings.html#%28def._%28%28quote._~23~25kernel%29._string~3f%29%29" class="RktValLink" data-pltdoc="x">string?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">headers</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fbase..rkt%29._listof%29%29" class="RktValLink" data-pltdoc="x">listof</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/strings.html#%28def._%28%28quote._~23~25kernel%29._string~3f%29%29" class="RktValLink" data-pltdoc="x">string?</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">body</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fbase..rkt%29._or%2Fc%29%29" class="RktValLink" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/bytestrings.html#%28def._%28%28quote._~23~25kernel%29._bytes~3f%29%29" class="RktValLink" data-pltdoc="x">bytes?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/strings.html#%28def._%28%28quote._~23~25kernel%29._string~3f%29%29" class="RktValLink" data-pltdoc="x">string?</a></span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">Creates a PUT request effect.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._freer-lib/effects/http-effect..rkt)._http-patch))"></a><span title="Provided from: freer-lib/effects/http-effect | Package: freer-lib"><span class="RktSym"><a href="Standard_Effects.html#%28def._%28%28lib._freer-lib%2Feffects%2Fhttp-effect..rkt%29._http-patch%29%29" class="RktValDef RktValLink" data-pltdoc="x">http-patch</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">url</span><span class="hspace">&nbsp;</span><span class="RktVar">headers</span><span class="hspace">&nbsp;</span><span class="RktVar">body</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">impure?</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">url</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/strings.html#%28def._%28%28quote._~23~25kernel%29._string~3f%29%29" class="RktValLink" data-pltdoc="x">string?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">headers</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fbase..rkt%29._listof%29%29" class="RktValLink" data-pltdoc="x">listof</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/strings.html#%28def._%28%28quote._~23~25kernel%29._string~3f%29%29" class="RktValLink" data-pltdoc="x">string?</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">body</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fbase..rkt%29._or%2Fc%29%29" class="RktValLink" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/bytestrings.html#%28def._%28%28quote._~23~25kernel%29._bytes~3f%29%29" class="RktValLink" data-pltdoc="x">bytes?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/strings.html#%28def._%28%28quote._~23~25kernel%29._string~3f%29%29" class="RktValLink" data-pltdoc="x">string?</a></span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">Creates a PATCH request effect.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._freer-lib/effects/http-effect..rkt)._http-delete))"></a><span title="Provided from: freer-lib/effects/http-effect | Package: freer-lib"><span class="RktSym"><a href="Standard_Effects.html#%28def._%28%28lib._freer-lib%2Feffects%2Fhttp-effect..rkt%29._http-delete%29%29" class="RktValDef RktValLink" data-pltdoc="x">http-delete</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">url</span><span class="hspace">&nbsp;</span><span class="RktVar">headers</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">impure?</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">url</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/strings.html#%28def._%28%28quote._~23~25kernel%29._string~3f%29%29" class="RktValLink" data-pltdoc="x">string?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">headers</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fbase..rkt%29._listof%29%29" class="RktValLink" data-pltdoc="x">listof</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/strings.html#%28def._%28%28quote._~23~25kernel%29._string~3f%29%29" class="RktValLink" data-pltdoc="x">string?</a></span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">Creates a DELETE request effect.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._freer-lib/effects/http-effect..rkt)._perform-http-request))"></a><span title="Provided from: freer-lib/effects/http-effect | Package: freer-lib"><span class="RktSym"><a href="Standard_Effects.html#%28def._%28%28lib._freer-lib%2Feffects%2Fhttp-effect..rkt%29._perform-http-request%29%29" class="RktValDef RktValLink" data-pltdoc="x">perform-http-request</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">eff</span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fbase..rkt%29._list%2Fc%29%29" class="RktValLink" data-pltdoc="x">list/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/number-types.html#%28def._%28%28quote._~23~25kernel%29._number~3f%29%29" class="RktValLink" data-pltdoc="x">number?</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fbase..rkt%29._listof%29%29" class="RktValLink" data-pltdoc="x">listof</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/strings.html#%28def._%28%28quote._~23~25kernel%29._string~3f%29%29" class="RktValLink" data-pltdoc="x">string?</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/strings.html#%28def._%28%28quote._~23~25kernel%29._string~3f%29%29" class="RktValLink" data-pltdoc="x">string?</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">eff</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="Standard_Effects.html#%28def._%28%28lib._freer-lib%2Feffects%2Fhttp-effect..rkt%29._http-effect~3f%29%29" class="RktValLink" data-pltdoc="x">http-effect?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">The default handler implementation using Racket&rsquo;s <span class="RktSym">net/url</span> library.</div></p><p><div class="SIntrapara">It returns a list containing:
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><p><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">status-code</span><span class="hspace">&nbsp;</span><span class="RktVal">headers-list</span><span class="hspace">&nbsp;</span><span class="RktVal">body-string</span><span class="RktVal">)</span></p></blockquote></div></p><ul><li><p><span class="RktSym">status-code</span>: Exact integer (e.g., 200, 404).</p></li><li><p><span class="RktSym">headers-list</span>: A list of strings representing response headers.</p></li><li><p><span class="RktSym">body-string</span>: The response body.</p></li></ul><p>If an error occurs during the HTTP request (e.g., network error, malformed URL, connection timeout), an exception is raised.</p><p><div class="SIntrapara">Example:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="Core_Effects_API.html#%28def._%28%28lib._freer-lib%2Fmain..rkt%29._run%29%29" class="RktValLink" data-pltdoc="x">run</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">fetch-home</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/lambda.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._lambda%29%29" class="RktStxLink" data-pltdoc="x">lambda</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktVar">eff</span><span class="hspace">&nbsp;</span><span class="RktSym">k</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/match.html#%28form._%28%28lib._racket%2Fmatch..rkt%29._match%29%29" class="RktStxLink" data-pltdoc="x">match</a></span><span class="hspace">&nbsp;</span><span class="RktVar">eff</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktSym"><a href="Standard_Effects.html#%28def._%28%28lib._freer-lib%2Feffects%2Fhttp-effect..rkt%29._http-effect%29%29" class="RktValLink" data-pltdoc="x">http-effect</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/net/url.html#%28def._%28%28lib._net%2Furl-structs..rkt%29._url%29%29" class="RktValLink" data-pltdoc="x">url</a></span><span class="hspace">&nbsp;</span><span class="RktSym">method</span><span class="hspace">&nbsp;</span><span class="RktSym">headers</span><span class="hspace">&nbsp;</span><span class="RktSym">body</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">k</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/pairs.html#%28def._%28%28quote._~23~25kernel%29._list%29%29" class="RktValLink" data-pltdoc="x">list</a></span><span class="hspace">&nbsp;</span><span class="RktVal">200</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">"Content-Type: text/html"</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">"&lt;html&gt;Mock Body&lt;/html&gt;"</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><p><span class="RktRes">"Status: 200, Body length: 22"</span></p></td></tr></table></blockquote></div></p></section><section class="SsectionLevel3" id="section 3.4"><h3 class="heading">3.4<span class="stt">&nbsp;</span><a name="(part._.Abort_.Effect)"></a><a name="(mod-path._freer-lib/effects/abort-effect)"></a>Abort Effect<span class="button-group"><a href="#(part._.Abort_.Effect)" class="heading-anchor" title="Link to here">ðŸ”—</a><span style="visibility: hidden"> </span></span></h3><p><table cellspacing="0" cellpadding="0" class="defmodule"><tr><td align="left" colspan="2"><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/require.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._require%29%29" class="RktStxLink" data-pltdoc="x">require</a></span><span class="stt"> </span><a href="Standard_Effects.html#%28mod-path._freer-lib%2Feffects%2Fabort-effect%29" class="RktModLink" data-pltdoc="x"><span class="RktSym">freer-lib/effects/abort-effect</span></a><span class="RktPn">)</span></td></tr><tr><td align="left">&nbsp;</td><td align="right"><span class="RpackageSpec"><span class="Smaller">&nbsp;package:</span> <a href="https://pkgs.racket-lang.org/package/freer-lib" title="Install this package using `raco pkg install freer-lib`"><span class="stt">freer-lib</span></a></span></td></tr></table></p><p>The abort effect allows computations to signal immediate termination without producing a value.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>struct</p></div></div><table cellspacing="0" cellpadding="0" class="RForeground"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/define-struct.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._struct%29%29" class="RktStxLink" data-pltdoc="x">struct</a></span></td><td><span class="hspace">&nbsp;</span></td><td><a name="(def._((lib._freer-lib/effects/abort-effect..rkt)._make-abort-effect))"></a><a name="(def._((lib._freer-lib/effects/abort-effect..rkt)._abort-effect~3f))"></a><a name="(def._((lib._freer-lib/effects/abort-effect..rkt)._struct~3aabort-effect))"></a><a name="(def._((lib._freer-lib/effects/abort-effect..rkt)._abort-effect))"></a><span title="Provided from: freer-lib/effects/abort-effect | Package: freer-lib"><span class="RktSym"><a href="Standard_Effects.html#%28def._%28%28lib._freer-lib%2Feffects%2Fabort-effect..rkt%29._abort-effect%29%29" class="RktValDef RktValLink" data-pltdoc="x">abort-effect</a></span></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">)</span></td></tr></table></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">#:extra-constructor-name</span><span class="hspace">&nbsp;</span><span class="RktSym">make-abort-effect</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">#:transparent</span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">An effect descriptor that represents an abort signal. The struct has no fields.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._freer-lib/effects/abort-effect..rkt)._abort))"></a><span title="Provided from: freer-lib/effects/abort-effect | Package: freer-lib"><span class="RktSym"><a href="Standard_Effects.html#%28def._%28%28lib._freer-lib%2Feffects%2Fabort-effect..rkt%29._abort%29%29" class="RktValDef RktValLink" data-pltdoc="x">abort</a></span></span><span class="RktPn"></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="Core_Effects_API.html#%28def._%28%28lib._freer-lib%2Fmain..rkt%29._free~3f%29%29" class="RktValLink" data-pltdoc="x">free?</a></span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">Creates an effect that signals termination of the current computation.</div></p><p><div class="SIntrapara">Example:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">conditional-abort</span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Syntactic_Forms.html#%28form._%28%28lib._freer-lib%2Fmain..rkt%29._do%29%29" class="RktStxLink" data-pltdoc="x">do</a></span><span class="hspace">&nbsp;</span><span class="RktPn">[</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/stx-patterns.html#%28form._%28%28lib._racket%2Fprivate%2Fstxcase-scheme..rkt%29.__%29%29" class="RktStxLink" data-pltdoc="x">_</a></span><span class="hspace">&nbsp;</span><span class="RktSym">&lt;-</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/if.html#%28form._%28%28quote._~23~25kernel%29._if%29%29" class="RktStxLink" data-pltdoc="x">if</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/number-types.html#%28def._%28%28quote._~23~25kernel%29._negative~3f%29%29" class="RktValLink" data-pltdoc="x">negative?</a></span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Standard_Effects.html#%28def._%28%28lib._freer-lib%2Feffects%2Fabort-effect..rkt%29._abort%29%29" class="RktValLink" data-pltdoc="x">abort</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Core_Effects_API.html#%28def._%28%28lib._freer-lib%2Fmain..rkt%29._return%29%29" class="RktValLink" data-pltdoc="x">return</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/void.html#%28def._%28%28quote._~23~25kernel%29._void%29%29" class="RktValLink" data-pltdoc="x">void</a></span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">]</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Core_Effects_API.html#%28def._%28%28lib._freer-lib%2Fmain..rkt%29._return%29%29" class="RktValLink" data-pltdoc="x">return</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/generic-numbers.html#%28def._%28%28quote._~23~25kernel%29._abs%29%29" class="RktValLink" data-pltdoc="x">abs</a></span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr></table></blockquote></div></p><p>The abort effect is useful for control flow when you need to exit a computation early without producing a normal return value.</p></section><section class="SsectionLevel3" id="section 3.5"><h3 class="heading">3.5<span class="stt">&nbsp;</span><a name="(part._.Logging)"></a><a name="(mod-path._freer-lib/effects/log-effect)"></a>Logging<span class="button-group"><a href="#(part._.Logging)" class="heading-anchor" title="Link to here">ðŸ”—</a><span style="visibility: hidden"> </span></span></h3><p><table cellspacing="0" cellpadding="0" class="defmodule"><tr><td align="left"><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/require.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._require%29%29" class="RktStxLink" data-pltdoc="x">require</a></span><span class="stt"> </span><a href="Standard_Effects.html#%28mod-path._freer-lib%2Feffects%2Flog-effect%29" class="RktModLink" data-pltdoc="x"><span class="RktSym">freer-lib/effects/log-effect</span></a><span class="RktPn">)</span></td><td align="right"><span class="RpackageSpec"><span class="Smaller">&nbsp;package:</span> <a href="https://pkgs.racket-lang.org/package/freer-lib" title="Install this package using `raco pkg install freer-lib`"><span class="stt">freer-lib</span></a></span></td></tr></table></p><p>This module provides effects for logging messages at different severity levels.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>struct</p></div></div><table cellspacing="0" cellpadding="0" class="RForeground"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/define-struct.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._struct%29%29" class="RktStxLink" data-pltdoc="x">struct</a></span></td><td><span class="hspace">&nbsp;</span></td><td><a name="(def._((lib._freer-lib/effects/log-effect..rkt)._log-effect-message))"></a><a name="(def._((lib._freer-lib/effects/log-effect..rkt)._log-effect-level))"></a><a name="(def._((lib._freer-lib/effects/log-effect..rkt)._make-log-effect))"></a><a name="(def._((lib._freer-lib/effects/log-effect..rkt)._log-effect~3f))"></a><a name="(def._((lib._freer-lib/effects/log-effect..rkt)._struct~3alog-effect))"></a><a name="(def._((lib._freer-lib/effects/log-effect..rkt)._log-effect))"></a><span title="Provided from: freer-lib/effects/log-effect | Package: freer-lib"><span class="RktSym"><a href="Standard_Effects.html#%28def._%28%28lib._freer-lib%2Feffects%2Flog-effect..rkt%29._log-effect%29%29" class="RktValDef RktValLink" data-pltdoc="x">log-effect</a></span></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">level</span><span class="stt"> </span><span class="RktSym">message</span><span class="RktPn">)</span></td></tr></table></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">#:extra-constructor-name</span><span class="hspace">&nbsp;</span><span class="RktSym">make-log-effect</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">#:transparent</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">level</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/symbols.html#%28def._%28%28quote._~23~25kernel%29._symbol~3f%29%29" class="RktValLink" data-pltdoc="x">symbol?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">message</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/strings.html#%28def._%28%28quote._~23~25kernel%29._string~3f%29%29" class="RktValLink" data-pltdoc="x">string?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">An effect descriptor for logging a message at a specified level.
</div><div class="SIntrapara"><ul><li><p><span class="RktSym">level</span>: A symbol indicating the log level (e.g., <span class="RktVal">'</span><span class="RktVal">DEBUG</span>, <span class="RktVal">'</span><span class="RktVal">INFO</span>, <span class="RktVal">'</span><span class="RktVal">ERROR</span>).</p></li><li><p><span class="RktSym">message</span>: The log message as a string.</p></li></ul></div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._freer-lib/effects/log-effect..rkt)._log-dbg))"></a><span title="Provided from: freer-lib/effects/log-effect | Package: freer-lib"><span class="RktSym"><a href="Standard_Effects.html#%28def._%28%28lib._freer-lib%2Feffects%2Flog-effect..rkt%29._log-dbg%29%29" class="RktValDef RktValLink" data-pltdoc="x">log-dbg</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">message</span><span class="hspace">&nbsp;</span><span class="RktVar">args</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="Core_Effects_API.html#%28def._%28%28lib._freer-lib%2Fmain..rkt%29._free~3f%29%29" class="RktValLink" data-pltdoc="x">free?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">message</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/strings.html#%28def._%28%28quote._~23~25kernel%29._string~3f%29%29" class="RktValLink" data-pltdoc="x">string?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">args</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fprivate%2Fmisc..rkt%29._any%2Fc%29%29" class="RktValLink" data-pltdoc="x">any/c</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Creates a logging effect that logs a <span class="RktVar">message</span> at the DEBUG level. Supports format strings with additional arguments for formatting.</div></p><p><div class="SIntrapara">Example:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">process-data</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Syntactic_Forms.html#%28form._%28%28lib._freer-lib%2Fmain..rkt%29._do%29%29" class="RktStxLink" data-pltdoc="x">do</a></span><span class="hspace">&nbsp;</span><span class="RktPn">[</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/stx-patterns.html#%28form._%28%28lib._racket%2Fprivate%2Fstxcase-scheme..rkt%29.__%29%29" class="RktStxLink" data-pltdoc="x">_</a></span><span class="hspace">&nbsp;</span><span class="RktSym">&lt;-</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Standard_Effects.html#%28def._%28%28lib._freer-lib%2Feffects%2Flog-effect..rkt%29._log-dbg%29%29" class="RktValLink" data-pltdoc="x">log-dbg</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"Starting data processing"</span><span class="RktPn">)</span><span class="RktPn">]</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktSym">result</span><span class="hspace">&nbsp;</span><span class="RktSym">&lt;-</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Core_Effects_API.html#%28def._%28%28lib._freer-lib%2Fmain..rkt%29._return%29%29" class="RktValLink" data-pltdoc="x">return</a></span><span class="hspace">&nbsp;</span><span class="RktVal">42</span><span class="RktPn">)</span><span class="RktPn">]</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/stx-patterns.html#%28form._%28%28lib._racket%2Fprivate%2Fstxcase-scheme..rkt%29.__%29%29" class="RktStxLink" data-pltdoc="x">_</a></span><span class="hspace">&nbsp;</span><span class="RktSym">&lt;-</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Standard_Effects.html#%28def._%28%28lib._freer-lib%2Feffects%2Flog-effect..rkt%29._log-dbg%29%29" class="RktValLink" data-pltdoc="x">log-dbg</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"Processing complete with result: ~a"</span><span class="hspace">&nbsp;</span><span class="RktSym">result</span><span class="RktPn">)</span><span class="RktPn">]</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Core_Effects_API.html#%28def._%28%28lib._freer-lib%2Fmain..rkt%29._return%29%29" class="RktValLink" data-pltdoc="x">return</a></span><span class="hspace">&nbsp;</span><span class="RktSym">result</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr></table></blockquote></div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._freer-lib/effects/log-effect..rkt)._log-inf))"></a><span title="Provided from: freer-lib/effects/log-effect | Package: freer-lib"><span class="RktSym"><a href="Standard_Effects.html#%28def._%28%28lib._freer-lib%2Feffects%2Flog-effect..rkt%29._log-inf%29%29" class="RktValDef RktValLink" data-pltdoc="x">log-inf</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">message</span><span class="hspace">&nbsp;</span><span class="RktVar">args</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="Core_Effects_API.html#%28def._%28%28lib._freer-lib%2Fmain..rkt%29._free~3f%29%29" class="RktValLink" data-pltdoc="x">free?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">message</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/strings.html#%28def._%28%28quote._~23~25kernel%29._string~3f%29%29" class="RktValLink" data-pltdoc="x">string?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">args</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fprivate%2Fmisc..rkt%29._any%2Fc%29%29" class="RktValLink" data-pltdoc="x">any/c</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Creates a logging effect that logs a <span class="RktVar">message</span> at the INFO level. Supports format strings with additional arguments for formatting.</div></p><p><div class="SIntrapara">Example:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">startup</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Syntactic_Forms.html#%28form._%28%28lib._freer-lib%2Fmain..rkt%29._do%29%29" class="RktStxLink" data-pltdoc="x">do</a></span><span class="hspace">&nbsp;</span><span class="RktPn">[</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/stx-patterns.html#%28form._%28%28lib._racket%2Fprivate%2Fstxcase-scheme..rkt%29.__%29%29" class="RktStxLink" data-pltdoc="x">_</a></span><span class="hspace">&nbsp;</span><span class="RktSym">&lt;-</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Standard_Effects.html#%28def._%28%28lib._freer-lib%2Feffects%2Flog-effect..rkt%29._log-inf%29%29" class="RktValLink" data-pltdoc="x">log-inf</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"Application started"</span><span class="RktPn">)</span><span class="RktPn">]</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Core_Effects_API.html#%28def._%28%28lib._freer-lib%2Fmain..rkt%29._return%29%29" class="RktValLink" data-pltdoc="x">return</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/void.html#%28def._%28%28quote._~23~25kernel%29._void%29%29" class="RktValLink" data-pltdoc="x">void</a></span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr></table></blockquote></div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._freer-lib/effects/log-effect..rkt)._log-err))"></a><span title="Provided from: freer-lib/effects/log-effect | Package: freer-lib"><span class="RktSym"><a href="Standard_Effects.html#%28def._%28%28lib._freer-lib%2Feffects%2Flog-effect..rkt%29._log-err%29%29" class="RktValDef RktValLink" data-pltdoc="x">log-err</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">message</span><span class="hspace">&nbsp;</span><span class="RktVar">args</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="Core_Effects_API.html#%28def._%28%28lib._freer-lib%2Fmain..rkt%29._free~3f%29%29" class="RktValLink" data-pltdoc="x">free?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">message</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/strings.html#%28def._%28%28quote._~23~25kernel%29._string~3f%29%29" class="RktValLink" data-pltdoc="x">string?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">args</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fprivate%2Fmisc..rkt%29._any%2Fc%29%29" class="RktValLink" data-pltdoc="x">any/c</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Creates a logging effect that logs a <span class="RktVar">message</span> at the ERROR level. Supports format strings with additional arguments for formatting.</div></p><p><div class="SIntrapara">Example:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">handle-failure</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Syntactic_Forms.html#%28form._%28%28lib._freer-lib%2Fmain..rkt%29._do%29%29" class="RktStxLink" data-pltdoc="x">do</a></span><span class="hspace">&nbsp;</span><span class="RktPn">[</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/stx-patterns.html#%28form._%28%28lib._racket%2Fprivate%2Fstxcase-scheme..rkt%29.__%29%29" class="RktStxLink" data-pltdoc="x">_</a></span><span class="hspace">&nbsp;</span><span class="RktSym">&lt;-</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Standard_Effects.html#%28def._%28%28lib._freer-lib%2Feffects%2Flog-effect..rkt%29._log-err%29%29" class="RktValLink" data-pltdoc="x">log-err</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"Critical failure occurred"</span><span class="RktPn">)</span><span class="RktPn">]</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Core_Effects_API.html#%28def._%28%28lib._freer-lib%2Fmain..rkt%29._return%29%29" class="RktValLink" data-pltdoc="x">return</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/void.html#%28def._%28%28quote._~23~25kernel%29._void%29%29" class="RktValLink" data-pltdoc="x">void</a></span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr></table></blockquote></div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._freer-lib/effects/log-effect..rkt)._default-log-display))"></a><span title="Provided from: freer-lib/effects/log-effect | Package: freer-lib"><span class="RktSym"><span class="RktSymDef RktSym">default-log-display</span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">eff</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/void.html#%28def._%28%28quote._~23~25kernel%29._void~3f%29%29" class="RktValLink" data-pltdoc="x">void?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">eff</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="Standard_Effects.html#%28def._%28%28lib._freer-lib%2Feffects%2Flog-effect..rkt%29._log-effect~3f%29%29" class="RktValLink" data-pltdoc="x">log-effect?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">The default handler for displaying log messages. Routes ERROR level messages to <span class="RktSym"><a href="http://docs.racket-lang.org/reference/port-ops.html#%28def._%28%28quote._~23~25kernel%29._current-error-port%29%29" class="RktValLink" data-pltdoc="x">current-error-port</a></span> and other levels to <span class="RktSym"><a href="http://docs.racket-lang.org/reference/port-ops.html#%28def._%28%28quote._~23~25kernel%29._current-output-port%29%29" class="RktValLink" data-pltdoc="x">current-output-port</a></span>. Automatically formats messages using <span class="RktSym">default-log-format</span> and flushes the output.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._freer-lib/effects/log-effect..rkt)._write-log))"></a><span title="Provided from: freer-lib/effects/log-effect | Package: freer-lib"><span class="RktSym"><a href="Standard_Effects.html#%28def._%28%28lib._freer-lib%2Feffects%2Flog-effect..rkt%29._write-log%29%29" class="RktValDef RktValLink" data-pltdoc="x">write-log</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">eff</span><span class="hspace">&nbsp;</span><span class="RktOpt">[</span><span class="RktVar">display-proc</span><span class="RktOpt">]</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/void.html#%28def._%28%28quote._~23~25kernel%29._void~3f%29%29" class="RktValLink" data-pltdoc="x">void?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">eff</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="Standard_Effects.html#%28def._%28%28lib._freer-lib%2Feffects%2Flog-effect..rkt%29._log-effect~3f%29%29" class="RktValLink" data-pltdoc="x">log-effect?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">display-proc</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/function-contracts.html#%28form._%28%28lib._racket%2Fcontract%2Fbase..rkt%29._-~3e%29%29" class="RktStxLink" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="Standard_Effects.html#%28def._%28%28lib._freer-lib%2Feffects%2Flog-effect..rkt%29._log-effect~3f%29%29" class="RktValLink" data-pltdoc="x">log-effect?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/void.html#%28def._%28%28quote._~23~25kernel%29._void~3f%29%29" class="RktValLink" data-pltdoc="x">void?</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktSym">default-log-display</span></td></tr></table></blockquote></div><div class="SIntrapara">Writes a log message using a customizable display function.</div></p><ul><li><p><span class="RktVar">eff</span>: The log effect to write.</p></li><li><p><span class="RktVar">display-proc</span>: A function that handles displaying the log message (default: <span class="RktSym">default-log-display</span>).</p></li></ul><p><div class="SIntrapara">Examples:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">custom-display</span><span class="hspace">&nbsp;</span><span class="RktVar">eff</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/Writing.html#%28def._%28%28lib._racket%2Fprivate%2Fmisc..rkt%29._displayln%29%29" class="RktValLink" data-pltdoc="x">displayln</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/Writing.html#%28def._%28%28quote._~23~25kernel%29._format%29%29" class="RktValLink" data-pltdoc="x">format</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"[~a] ~a"</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Standard_Effects.html#%28def._%28%28lib._freer-lib%2Feffects%2Flog-effect..rkt%29._log-effect-level%29%29" class="RktValLink" data-pltdoc="x">log-effect-level</a></span><span class="hspace">&nbsp;</span><span class="RktVar">eff</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Standard_Effects.html#%28def._%28%28lib._freer-lib%2Feffects%2Flog-effect..rkt%29._log-effect-message%29%29" class="RktValLink" data-pltdoc="x">log-effect-message</a></span><span class="hspace">&nbsp;</span><span class="RktVar">eff</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="Core_Effects_API.html#%28def._%28%28lib._freer-lib%2Fmain..rkt%29._run%29%29" class="RktValLink" data-pltdoc="x">run</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Standard_Effects.html#%28def._%28%28lib._freer-lib%2Feffects%2Flog-effect..rkt%29._log-inf%29%29" class="RktValLink" data-pltdoc="x">log-inf</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"Custom logging example"</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/lambda.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._lambda%29%29" class="RktStxLink" data-pltdoc="x">lambda</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktVar">eff</span><span class="hspace">&nbsp;</span><span class="RktSym">k</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/match.html#%28form._%28%28lib._racket%2Fmatch..rkt%29._match%29%29" class="RktStxLink" data-pltdoc="x">match</a></span><span class="hspace">&nbsp;</span><span class="RktVar">eff</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktSym"><a href="Standard_Effects.html#%28def._%28%28lib._freer-lib%2Feffects%2Flog-effect..rkt%29._log-effect%29%29" class="RktValLink" data-pltdoc="x">log-effect</a></span><span class="hspace">&nbsp;</span><span class="RktSym">level</span><span class="hspace">&nbsp;</span><span class="RktSym">msg</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Standard_Effects.html#%28def._%28%28lib._freer-lib%2Feffects%2Flog-effect..rkt%29._write-log%29%29" class="RktValLink" data-pltdoc="x">write-log</a></span><span class="hspace">&nbsp;</span><span class="RktVar">eff</span><span class="hspace">&nbsp;</span><span class="RktSym">custom-display</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">k</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/void.html#%28def._%28%28quote._~23~25kernel%29._void%29%29" class="RktValLink" data-pltdoc="x">void</a></span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><p><span class="RktOut">[INFO] Custom logging example</span></p></td></tr></table></blockquote></div></p><p><span style="font-weight: bold">Error Handling</span>: The log effect is typically used for observability and diagnostics. It does not produce errors itself, but can be combined with other effects. When logging is not available (e.g., in a testing environment), you can write a handler that ignores log messages or collects them for inspection.</p><p><div class="SIntrapara">Example:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">run-with-logging</span><span class="hspace">&nbsp;</span><span class="RktSym">computation</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Core_Effects_API.html#%28def._%28%28lib._freer-lib%2Fmain..rkt%29._run%29%29" class="RktValLink" data-pltdoc="x">run</a></span><span class="hspace">&nbsp;</span><span class="RktSym">computation</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/lambda.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._lambda%29%29" class="RktStxLink" data-pltdoc="x">lambda</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">eff</span><span class="hspace">&nbsp;</span><span class="RktSym">k</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/match.html#%28form._%28%28lib._racket%2Fmatch..rkt%29._match%29%29" class="RktStxLink" data-pltdoc="x">match</a></span><span class="hspace">&nbsp;</span><span class="RktSym">eff</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktSym"><a href="Standard_Effects.html#%28def._%28%28lib._freer-lib%2Feffects%2Flog-effect..rkt%29._log-effect%29%29" class="RktValLink" data-pltdoc="x">log-effect</a></span><span class="hspace">&nbsp;</span><span class="RktSym">level</span><span class="hspace">&nbsp;</span><span class="RktSym">msg</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">k</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Standard_Effects.html#%28def._%28%28lib._freer-lib%2Feffects%2Flog-effect..rkt%29._write-log%29%29" class="RktValLink" data-pltdoc="x">write-log</a></span><span class="hspace">&nbsp;</span><span class="RktSym">eff</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr></table></blockquote></div></p></section><section class="SsectionLevel3" id="section 3.6"><h3 class="heading">3.6<span class="stt">&nbsp;</span><a name="(part._.File_.System)"></a><a name="(mod-path._freer-lib/effects/file-system-effect)"></a>File System<span class="button-group"><a href="#(part._.File_.System)" class="heading-anchor" title="Link to here">ðŸ”—</a><span style="visibility: hidden"> </span></span></h3><p><table cellspacing="0" cellpadding="0" class="defmodule"><tr><td align="left" colspan="2"><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/require.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._require%29%29" class="RktStxLink" data-pltdoc="x">require</a></span><span class="stt"> </span><a href="Standard_Effects.html#%28mod-path._freer-lib%2Feffects%2Ffile-system-effect%29" class="RktModLink" data-pltdoc="x"><span class="RktSym">freer-lib/effects/file-system-effect</span></a><span class="RktPn">)</span></td></tr><tr><td align="left">&nbsp;</td><td align="right"><span class="RpackageSpec"><span class="Smaller">&nbsp;package:</span> <a href="https://pkgs.racket-lang.org/package/freer-lib" title="Install this package using `raco pkg install freer-lib`"><span class="stt">freer-lib</span></a></span></td></tr></table></p><p>This module provides effects for performing file system operations such as reading, writing, creating directories, and checking or deleting paths.</p><section class="SsectionLevel4" id="section 3.6.1"><h4 class="heading">3.6.1<span class="stt">&nbsp;</span><a name="(part._.Structs)"></a>Structs<span class="button-group"><a href="#(part._.Structs)" class="heading-anchor" title="Link to here">ðŸ”—</a><span style="visibility: hidden"> </span></span></h4><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>struct</p></div></div><table cellspacing="0" cellpadding="0" class="RForeground"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/define-struct.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._struct%29%29" class="RktStxLink" data-pltdoc="x">struct</a></span></td><td><span class="hspace">&nbsp;</span></td><td><a name="(def._((lib._freer-lib/effects/file-system-effect..rkt)._read-file-effect-path))"></a><a name="(def._((lib._freer-lib/effects/file-system-effect..rkt)._make-read-file-effect))"></a><a name="(def._((lib._freer-lib/effects/file-system-effect..rkt)._read-file-effect~3f))"></a><a name="(def._((lib._freer-lib/effects/file-system-effect..rkt)._struct~3aread-file-effect))"></a><a name="(def._((lib._freer-lib/effects/file-system-effect..rkt)._read-file-effect))"></a><span title="Provided from: freer-lib/effects/file-system-effect | Package: freer-lib"><span class="RktSym"><a href="Standard_Effects.html#%28def._%28%28lib._freer-lib%2Feffects%2Ffile-system-effect..rkt%29._read-file-effect%29%29" class="RktValDef RktValLink" data-pltdoc="x">read-file-effect</a></span></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">path</span><span class="RktPn">)</span></td></tr></table></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">#:extra-constructor-name</span><span class="hspace">&nbsp;</span><span class="RktSym">make-read-file-effect</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">#:transparent</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">path</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/Manipulating_Paths.html#%28def._%28%28lib._racket%2Fprivate%2Fmisc..rkt%29._path-string~3f%29%29" class="RktValLink" data-pltdoc="x">path-string?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">An effect descriptor that represents a file read operation.</div></p><ul><li><p><span class="RktSym">path</span>: The path to the file to read.</p></li></ul><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>struct</p></div></div><table cellspacing="0" cellpadding="0" class="RForeground"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/define-struct.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._struct%29%29" class="RktStxLink" data-pltdoc="x">struct</a></span></td><td><span class="hspace">&nbsp;</span></td><td><a name="(def._((lib._freer-lib/effects/file-system-effect..rkt)._write-file-effect-exists-flag))"></a><a name="(def._((lib._freer-lib/effects/file-system-effect..rkt)._write-file-effect-bytes))"></a><a name="(def._((lib._freer-lib/effects/file-system-effect..rkt)._write-file-effect-path))"></a><a name="(def._((lib._freer-lib/effects/file-system-effect..rkt)._make-write-file-effect))"></a><a name="(def._((lib._freer-lib/effects/file-system-effect..rkt)._write-file-effect~3f))"></a><a name="(def._((lib._freer-lib/effects/file-system-effect..rkt)._struct~3awrite-file-effect))"></a><a name="(def._((lib._freer-lib/effects/file-system-effect..rkt)._write-file-effect))"></a><span title="Provided from: freer-lib/effects/file-system-effect | Package: freer-lib"><span class="RktSym"><a href="Standard_Effects.html#%28def._%28%28lib._freer-lib%2Feffects%2Ffile-system-effect..rkt%29._write-file-effect%29%29" class="RktValDef RktValLink" data-pltdoc="x">write-file-effect</a></span></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">path</span><span class="stt"> </span><span class="RktSym">bytes</span><span class="stt"> </span><span class="RktSym">exists-flag</span><span class="RktPn">)</span></td></tr></table></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">#:extra-constructor-name</span><span class="hspace">&nbsp;</span><span class="RktSym">make-write-file-effect</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">#:transparent</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">path</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/Manipulating_Paths.html#%28def._%28%28lib._racket%2Fprivate%2Fmisc..rkt%29._path-string~3f%29%29" class="RktValLink" data-pltdoc="x">path-string?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">bytes</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/bytestrings.html#%28def._%28%28quote._~23~25kernel%29._bytes~3f%29%29" class="RktValLink" data-pltdoc="x">bytes?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">exists-flag</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fbase..rkt%29._or%2Fc%29%29" class="RktValLink" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">error</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">append</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">update</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">replace</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">truncate</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">truncate/replace</span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">An effect descriptor that represents a file write operation.</div></p><ul><li><p><span class="RktSym">path</span>: The path to the file to write.</p></li><li><p><span class="RktSym"><a href="http://docs.racket-lang.org/reference/bytestrings.html#%28def._%28%28quote._~23~25kernel%29._bytes%29%29" class="RktValLink" data-pltdoc="x">bytes</a></span>: The bytes to write to the file.</p></li><li><p><div class="SIntrapara"><span class="RktSym">exists-flag</span>: Controls behavior if the file already exists:
</div><div class="SIntrapara"><ul><li><p><span class="RktVal">'</span><span class="RktVal">error</span>: Raise an error if the file exists (default in Racket).</p></li><li><p><span class="RktVal">'</span><span class="RktVal">append</span>: Append bytes to the existing file.</p></li><li><p><span class="RktVal">'</span><span class="RktVal">update</span>: Update the file if it exists, create otherwise.</p></li><li><p><span class="RktVal">'</span><span class="RktVal">replace</span>: Replace the file contents (same as <span class="RktVal">'</span><span class="RktVal">truncate</span>).</p></li><li><p><span class="RktVal">'</span><span class="RktVal">truncate</span>: Truncate and overwrite the file.</p></li><li><p><span class="RktVal">'</span><span class="RktVal">truncate/replace</span>: Truncate, overwrite, and replace (Racket-specific).</p></li></ul></div></p></li></ul><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>struct</p></div></div><table cellspacing="0" cellpadding="0" class="RForeground"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/define-struct.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._struct%29%29" class="RktStxLink" data-pltdoc="x">struct</a></span></td><td><span class="hspace">&nbsp;</span></td><td><a name="(def._((lib._freer-lib/effects/file-system-effect..rkt)._create-folder-effect-path))"></a><a name="(def._((lib._freer-lib/effects/file-system-effect..rkt)._make-create-folder-effect))"></a><a name="(def._((lib._freer-lib/effects/file-system-effect..rkt)._create-folder-effect~3f))"></a><a name="(def._((lib._freer-lib/effects/file-system-effect..rkt)._struct~3acreate-folder-effect))"></a><a name="(def._((lib._freer-lib/effects/file-system-effect..rkt)._create-folder-effect))"></a><span title="Provided from: freer-lib/effects/file-system-effect | Package: freer-lib"><span class="RktSym"><a href="Standard_Effects.html#%28def._%28%28lib._freer-lib%2Feffects%2Ffile-system-effect..rkt%29._create-folder-effect%29%29" class="RktValDef RktValLink" data-pltdoc="x">create-folder-effect</a></span></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">path</span><span class="RktPn">)</span></td></tr></table></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">#:extra-constructor-name</span><span class="hspace">&nbsp;</span><span class="RktSym">make-create-folder-effect</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">#:transparent</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">path</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/Manipulating_Paths.html#%28def._%28%28lib._racket%2Fprivate%2Fmisc..rkt%29._path-string~3f%29%29" class="RktValLink" data-pltdoc="x">path-string?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">An effect descriptor that represents a folder creation operation.</div></p><ul><li><p><span class="RktSym">path</span>: The path to the folder to create. Parent directories are created if necessary.</p></li></ul><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>struct</p></div></div><table cellspacing="0" cellpadding="0" class="RForeground"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/define-struct.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._struct%29%29" class="RktStxLink" data-pltdoc="x">struct</a></span></td><td><span class="hspace">&nbsp;</span></td><td><a name="(def._((lib._freer-lib/effects/file-system-effect..rkt)._check-path-effect-path))"></a><a name="(def._((lib._freer-lib/effects/file-system-effect..rkt)._make-check-path-effect))"></a><a name="(def._((lib._freer-lib/effects/file-system-effect..rkt)._check-path-effect~3f))"></a><a name="(def._((lib._freer-lib/effects/file-system-effect..rkt)._struct~3acheck-path-effect))"></a><a name="(def._((lib._freer-lib/effects/file-system-effect..rkt)._check-path-effect))"></a><span title="Provided from: freer-lib/effects/file-system-effect | Package: freer-lib"><span class="RktSym"><a href="Standard_Effects.html#%28def._%28%28lib._freer-lib%2Feffects%2Ffile-system-effect..rkt%29._check-path-effect%29%29" class="RktValDef RktValLink" data-pltdoc="x">check-path-effect</a></span></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">path</span><span class="RktPn">)</span></td></tr></table></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">#:extra-constructor-name</span><span class="hspace">&nbsp;</span><span class="RktSym">make-check-path-effect</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">#:transparent</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">path</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/Manipulating_Paths.html#%28def._%28%28lib._racket%2Fprivate%2Fmisc..rkt%29._path-string~3f%29%29" class="RktValLink" data-pltdoc="x">path-string?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">An effect descriptor that represents a path type check operation.</div></p><ul><li><p><span class="RktSym">path</span>: The path to check.</p></li></ul><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>struct</p></div></div><table cellspacing="0" cellpadding="0" class="RForeground"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/define-struct.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._struct%29%29" class="RktStxLink" data-pltdoc="x">struct</a></span></td><td><span class="hspace">&nbsp;</span></td><td><a name="(def._((lib._freer-lib/effects/file-system-effect..rkt)._delete-path-effect-path))"></a><a name="(def._((lib._freer-lib/effects/file-system-effect..rkt)._make-delete-path-effect))"></a><a name="(def._((lib._freer-lib/effects/file-system-effect..rkt)._delete-path-effect~3f))"></a><a name="(def._((lib._freer-lib/effects/file-system-effect..rkt)._struct~3adelete-path-effect))"></a><a name="(def._((lib._freer-lib/effects/file-system-effect..rkt)._delete-path-effect))"></a><span title="Provided from: freer-lib/effects/file-system-effect | Package: freer-lib"><span class="RktSym"><a href="Standard_Effects.html#%28def._%28%28lib._freer-lib%2Feffects%2Ffile-system-effect..rkt%29._delete-path-effect%29%29" class="RktValDef RktValLink" data-pltdoc="x">delete-path-effect</a></span></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">path</span><span class="RktPn">)</span></td></tr></table></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">#:extra-constructor-name</span><span class="hspace">&nbsp;</span><span class="RktSym">make-delete-path-effect</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">#:transparent</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">path</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/Manipulating_Paths.html#%28def._%28%28lib._racket%2Fprivate%2Fmisc..rkt%29._path-string~3f%29%29" class="RktValLink" data-pltdoc="x">path-string?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">An effect descriptor that represents a path deletion operation.</div></p><ul><li><p><span class="RktSym">path</span>: The path to the file or directory to delete.</p></li></ul></section><section class="SsectionLevel4" id="section 3.6.2"><h4 class="heading">3.6.2<span class="stt">&nbsp;</span><a name="(part._.Procedures)"></a>Procedures<span class="button-group"><a href="#(part._.Procedures)" class="heading-anchor" title="Link to here">ðŸ”—</a><span style="visibility: hidden"> </span></span></h4><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._freer-lib/effects/file-system-effect..rkt)._read-file))"></a><span title="Provided from: freer-lib/effects/file-system-effect | Package: freer-lib"><span class="RktSym"><a href="Standard_Effects.html#%28def._%28%28lib._freer-lib%2Feffects%2Ffile-system-effect..rkt%29._read-file%29%29" class="RktValDef RktValLink" data-pltdoc="x">read-file</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">path</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="Core_Effects_API.html#%28def._%28%28lib._freer-lib%2Fmain..rkt%29._free~3f%29%29" class="RktValLink" data-pltdoc="x">free?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">path</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/Manipulating_Paths.html#%28def._%28%28lib._racket%2Fprivate%2Fmisc..rkt%29._path-string~3f%29%29" class="RktValLink" data-pltdoc="x">path-string?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Creates an effect that reads the file at <span class="RktVar">path</span> and returns its contents as bytes.</div></p><p><div class="SIntrapara">Examples:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">Define a mock handler for testing</span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">mock-fs-handler</span><span class="hspace">&nbsp;</span><span class="RktSym">effect</span><span class="hspace">&nbsp;</span><span class="RktSym">k</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/match.html#%28form._%28%28lib._racket%2Fmatch..rkt%29._match%29%29" class="RktStxLink" data-pltdoc="x">match</a></span><span class="hspace">&nbsp;</span><span class="RktSym">effect</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktSym"><a href="Standard_Effects.html#%28def._%28%28lib._freer-lib%2Feffects%2Ffile-system-effect..rkt%29._read-file-effect%29%29" class="RktValLink" data-pltdoc="x">read-file-effect</a></span><span class="hspace">&nbsp;</span><span class="RktVar">path</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">k</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/bytestrings.html#%28def._%28%28quote._~23~25kernel%29._string-~3ebytes%2Futf-8%29%29" class="RktValLink" data-pltdoc="x">string-&gt;bytes/utf-8</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"config-data"</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">]</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/stx-patterns.html#%28form._%28%28lib._racket%2Fprivate%2Fstxcase-scheme..rkt%29.__%29%29" class="RktStxLink" data-pltdoc="x">_</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/exns.html#%28def._%28%28quote._~23~25kernel%29._error%29%29" class="RktValLink" data-pltdoc="x">error</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"unhandled effect"</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">Use the effect in a computation</span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">read-config-file</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Syntactic_Forms.html#%28form._%28%28lib._freer-lib%2Fmain..rkt%29._do%29%29" class="RktStxLink" data-pltdoc="x">do</a></span><span class="hspace">&nbsp;</span><span class="RktPn">[</span><span class="RktSym">content</span><span class="hspace">&nbsp;</span><span class="RktSym">&lt;-</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Standard_Effects.html#%28def._%28%28lib._freer-lib%2Feffects%2Ffile-system-effect..rkt%29._read-file%29%29" class="RktValLink" data-pltdoc="x">read-file</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"config.txt"</span><span class="RktPn">)</span><span class="RktPn">]</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Core_Effects_API.html#%28def._%28%28lib._freer-lib%2Fmain..rkt%29._return%29%29" class="RktValLink" data-pltdoc="x">return</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/bytestrings.html#%28def._%28%28quote._~23~25kernel%29._bytes-~3estring%2Futf-8%29%29" class="RktValLink" data-pltdoc="x">bytes-&gt;string/utf-8</a></span><span class="hspace">&nbsp;</span><span class="RktSym">content</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">Run with mock handler</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="Core_Effects_API.html#%28def._%28%28lib._freer-lib%2Fmain..rkt%29._run%29%29" class="RktValLink" data-pltdoc="x">run</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">read-config-file</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym">mock-fs-handler</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">"config-data"</span></p></td></tr></table></blockquote></div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._freer-lib/effects/file-system-effect..rkt)._write-file))"></a><span title="Provided from: freer-lib/effects/file-system-effect | Package: freer-lib"><span class="RktSym"><a href="Standard_Effects.html#%28def._%28%28lib._freer-lib%2Feffects%2Ffile-system-effect..rkt%29._write-file%29%29" class="RktValDef RktValLink" data-pltdoc="x">write-file</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">path</span><span class="hspace">&nbsp;</span><span class="RktVar">bytes</span><span class="hspace">&nbsp;</span><span class="RktVar">exists-flag</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="Core_Effects_API.html#%28def._%28%28lib._freer-lib%2Fmain..rkt%29._free~3f%29%29" class="RktValLink" data-pltdoc="x">free?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">path</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/Manipulating_Paths.html#%28def._%28%28lib._racket%2Fprivate%2Fmisc..rkt%29._path-string~3f%29%29" class="RktValLink" data-pltdoc="x">path-string?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">bytes</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/bytestrings.html#%28def._%28%28quote._~23~25kernel%29._bytes~3f%29%29" class="RktValLink" data-pltdoc="x">bytes?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">exists-flag</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fbase..rkt%29._or%2Fc%29%29" class="RktValLink" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">error</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">append</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">update</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">replace</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">truncate</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">truncate/replace</span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">Creates an effect that writes <span class="RktVar">bytes</span> to the file at <span class="RktVar">path</span>. The <span class="RktVar">exists-flag</span> parameter controls behavior if the file already exists.</div></p><p><div class="SIntrapara">Examples:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">Mock handler that confirms writes</span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">write-handler</span><span class="hspace">&nbsp;</span><span class="RktSym">effect</span><span class="hspace">&nbsp;</span><span class="RktSym">k</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/match.html#%28form._%28%28lib._racket%2Fmatch..rkt%29._match%29%29" class="RktStxLink" data-pltdoc="x">match</a></span><span class="hspace">&nbsp;</span><span class="RktSym">effect</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktSym"><a href="Standard_Effects.html#%28def._%28%28lib._freer-lib%2Feffects%2Ffile-system-effect..rkt%29._write-file-effect%29%29" class="RktValLink" data-pltdoc="x">write-file-effect</a></span><span class="hspace">&nbsp;</span><span class="RktVar">path</span><span class="hspace">&nbsp;</span><span class="RktVar">bytes</span><span class="hspace">&nbsp;</span><span class="RktSym">flag</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">k</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/void.html#%28def._%28%28quote._~23~25kernel%29._void%29%29" class="RktValLink" data-pltdoc="x">void</a></span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">]</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/stx-patterns.html#%28form._%28%28lib._racket%2Fprivate%2Fstxcase-scheme..rkt%29.__%29%29" class="RktStxLink" data-pltdoc="x">_</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/exns.html#%28def._%28%28quote._~23~25kernel%29._error%29%29" class="RktValLink" data-pltdoc="x">error</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"unhandled effect"</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">save-document</span><span class="hspace">&nbsp;</span><span class="RktSym">content</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Syntactic_Forms.html#%28form._%28%28lib._freer-lib%2Fmain..rkt%29._do%29%29" class="RktStxLink" data-pltdoc="x">do</a></span><span class="hspace">&nbsp;</span><span class="RktPn">[</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/stx-patterns.html#%28form._%28%28lib._racket%2Fprivate%2Fstxcase-scheme..rkt%29.__%29%29" class="RktStxLink" data-pltdoc="x">_</a></span><span class="hspace">&nbsp;</span><span class="RktSym">&lt;-</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Standard_Effects.html#%28def._%28%28lib._freer-lib%2Feffects%2Ffile-system-effect..rkt%29._write-file%29%29" class="RktValLink" data-pltdoc="x">write-file</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"document.txt"</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/bytestrings.html#%28def._%28%28quote._~23~25kernel%29._string-~3ebytes%2Futf-8%29%29" class="RktValLink" data-pltdoc="x">string-&gt;bytes/utf-8</a></span><span class="hspace">&nbsp;</span><span class="RktSym">content</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">'</span><span class="RktVal">truncate</span><span class="RktPn">)</span><span class="RktPn">]</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Core_Effects_API.html#%28def._%28%28lib._freer-lib%2Fmain..rkt%29._return%29%29" class="RktValLink" data-pltdoc="x">return</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"Document saved!"</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="Core_Effects_API.html#%28def._%28%28lib._freer-lib%2Fmain..rkt%29._run%29%29" class="RktValLink" data-pltdoc="x">run</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">save-document</span><span class="hspace">&nbsp;</span><span class="RktVal">"Hello, world!"</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym">write-handler</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">"Document saved!"</span></p></td></tr></table></blockquote></div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._freer-lib/effects/file-system-effect..rkt)._create-folder))"></a><span title="Provided from: freer-lib/effects/file-system-effect | Package: freer-lib"><span class="RktSym"><a href="Standard_Effects.html#%28def._%28%28lib._freer-lib%2Feffects%2Ffile-system-effect..rkt%29._create-folder%29%29" class="RktValDef RktValLink" data-pltdoc="x">create-folder</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">path</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="Core_Effects_API.html#%28def._%28%28lib._freer-lib%2Fmain..rkt%29._free~3f%29%29" class="RktValLink" data-pltdoc="x">free?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">path</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/Manipulating_Paths.html#%28def._%28%28lib._racket%2Fprivate%2Fmisc..rkt%29._path-string~3f%29%29" class="RktValLink" data-pltdoc="x">path-string?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Creates an effect that creates a folder at <span class="RktVar">path</span>. All necessary parent directories are created automatically.</div></p><p><div class="SIntrapara">Examples:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">folder-handler</span><span class="hspace">&nbsp;</span><span class="RktSym">effect</span><span class="hspace">&nbsp;</span><span class="RktSym">k</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/match.html#%28form._%28%28lib._racket%2Fmatch..rkt%29._match%29%29" class="RktStxLink" data-pltdoc="x">match</a></span><span class="hspace">&nbsp;</span><span class="RktSym">effect</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktSym"><a href="Standard_Effects.html#%28def._%28%28lib._freer-lib%2Feffects%2Ffile-system-effect..rkt%29._create-folder-effect%29%29" class="RktValLink" data-pltdoc="x">create-folder-effect</a></span><span class="hspace">&nbsp;</span><span class="RktVar">path</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">k</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/void.html#%28def._%28%28quote._~23~25kernel%29._void%29%29" class="RktValLink" data-pltdoc="x">void</a></span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">]</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/stx-patterns.html#%28form._%28%28lib._racket%2Fprivate%2Fstxcase-scheme..rkt%29.__%29%29" class="RktStxLink" data-pltdoc="x">_</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/exns.html#%28def._%28%28quote._~23~25kernel%29._error%29%29" class="RktValLink" data-pltdoc="x">error</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"unhandled effect"</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">setup-workspace</span><span class="hspace">&nbsp;</span><span class="RktSym">dir-name</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Syntactic_Forms.html#%28form._%28%28lib._freer-lib%2Fmain..rkt%29._do%29%29" class="RktStxLink" data-pltdoc="x">do</a></span><span class="hspace">&nbsp;</span><span class="RktPn">[</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/stx-patterns.html#%28form._%28%28lib._racket%2Fprivate%2Fstxcase-scheme..rkt%29.__%29%29" class="RktStxLink" data-pltdoc="x">_</a></span><span class="hspace">&nbsp;</span><span class="RktSym">&lt;-</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Standard_Effects.html#%28def._%28%28lib._freer-lib%2Feffects%2Ffile-system-effect..rkt%29._create-folder%29%29" class="RktValLink" data-pltdoc="x">create-folder</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/strings.html#%28def._%28%28quote._~23~25kernel%29._string-append%29%29" class="RktValLink" data-pltdoc="x">string-append</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"projects/"</span><span class="hspace">&nbsp;</span><span class="RktSym">dir-name</span><span class="hspace">&nbsp;</span><span class="RktVal">"/src"</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">]</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/stx-patterns.html#%28form._%28%28lib._racket%2Fprivate%2Fstxcase-scheme..rkt%29.__%29%29" class="RktStxLink" data-pltdoc="x">_</a></span><span class="hspace">&nbsp;</span><span class="RktSym">&lt;-</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Standard_Effects.html#%28def._%28%28lib._freer-lib%2Feffects%2Ffile-system-effect..rkt%29._create-folder%29%29" class="RktValLink" data-pltdoc="x">create-folder</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/strings.html#%28def._%28%28quote._~23~25kernel%29._string-append%29%29" class="RktValLink" data-pltdoc="x">string-append</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"projects/"</span><span class="hspace">&nbsp;</span><span class="RktSym">dir-name</span><span class="hspace">&nbsp;</span><span class="RktVal">"/tests"</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">]</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Core_Effects_API.html#%28def._%28%28lib._freer-lib%2Fmain..rkt%29._return%29%29" class="RktValLink" data-pltdoc="x">return</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/strings.html#%28def._%28%28quote._~23~25kernel%29._string-append%29%29" class="RktValLink" data-pltdoc="x">string-append</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"Workspace '"</span><span class="hspace">&nbsp;</span><span class="RktSym">dir-name</span><span class="hspace">&nbsp;</span><span class="RktVal">"' created"</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="Core_Effects_API.html#%28def._%28%28lib._freer-lib%2Fmain..rkt%29._run%29%29" class="RktValLink" data-pltdoc="x">run</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">setup-workspace</span><span class="hspace">&nbsp;</span><span class="RktVal">"my-project"</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym">folder-handler</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">"Workspace 'my-project' created"</span></p></td></tr></table></blockquote></div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._freer-lib/effects/file-system-effect..rkt)._check-path))"></a><span title="Provided from: freer-lib/effects/file-system-effect | Package: freer-lib"><span class="RktSym"><a href="Standard_Effects.html#%28def._%28%28lib._freer-lib%2Feffects%2Ffile-system-effect..rkt%29._check-path%29%29" class="RktValDef RktValLink" data-pltdoc="x">check-path</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">path</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="Core_Effects_API.html#%28def._%28%28lib._freer-lib%2Fmain..rkt%29._free~3f%29%29" class="RktValLink" data-pltdoc="x">free?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">path</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/Manipulating_Paths.html#%28def._%28%28lib._racket%2Fprivate%2Fmisc..rkt%29._path-string~3f%29%29" class="RktValLink" data-pltdoc="x">path-string?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Creates an effect that checks the type of a path and returns a symbol indicating whether it is a file, directory, symbolic link, directory symbolic link, or does not exist.</div></p><p><div class="SIntrapara">Returns one of:
</div><div class="SIntrapara"><ul><li><p><span class="RktVal">'</span><span class="RktVal">file</span>: A regular file</p></li><li><p><span class="RktVal">'</span><span class="RktVal">directory</span>: A directory</p></li><li><p><span class="RktVal">'</span><span class="RktVal">link</span>: A symbolic link to a file</p></li><li><p><span class="RktVal">'</span><span class="RktVal">directory-link</span>: A symbolic link to a directory</p></li><li><p><span class="RktVal">#f</span>: The path does not exist</p></li></ul></div></p><p><div class="SIntrapara">Examples:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">check-handler</span><span class="hspace">&nbsp;</span><span class="RktSym">effect</span><span class="hspace">&nbsp;</span><span class="RktSym">k</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/match.html#%28form._%28%28lib._racket%2Fmatch..rkt%29._match%29%29" class="RktStxLink" data-pltdoc="x">match</a></span><span class="hspace">&nbsp;</span><span class="RktSym">effect</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktSym"><a href="Standard_Effects.html#%28def._%28%28lib._freer-lib%2Feffects%2Ffile-system-effect..rkt%29._check-path-effect%29%29" class="RktValLink" data-pltdoc="x">check-path-effect</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"existing.txt"</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">k</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">file</span><span class="RktPn">)</span><span class="RktPn">]</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktSym"><a href="Standard_Effects.html#%28def._%28%28lib._freer-lib%2Feffects%2Ffile-system-effect..rkt%29._check-path-effect%29%29" class="RktValLink" data-pltdoc="x">check-path-effect</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"my-folder"</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">k</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">directory</span><span class="RktPn">)</span><span class="RktPn">]</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktSym"><a href="Standard_Effects.html#%28def._%28%28lib._freer-lib%2Feffects%2Ffile-system-effect..rkt%29._check-path-effect%29%29" class="RktValLink" data-pltdoc="x">check-path-effect</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/stx-patterns.html#%28form._%28%28lib._racket%2Fprivate%2Fstxcase-scheme..rkt%29.__%29%29" class="RktStxLink" data-pltdoc="x">_</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">k</span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="RktPn">)</span><span class="RktPn">]</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/stx-patterns.html#%28form._%28%28lib._racket%2Fprivate%2Fstxcase-scheme..rkt%29.__%29%29" class="RktStxLink" data-pltdoc="x">_</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/exns.html#%28def._%28%28quote._~23~25kernel%29._error%29%29" class="RktValLink" data-pltdoc="x">error</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"unhandled effect"</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">handle-path</span><span class="hspace">&nbsp;</span><span class="RktVar">path</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Syntactic_Forms.html#%28form._%28%28lib._freer-lib%2Fmain..rkt%29._do%29%29" class="RktStxLink" data-pltdoc="x">do</a></span><span class="hspace">&nbsp;</span><span class="RktPn">[</span><span class="RktSym">type</span><span class="hspace">&nbsp;</span><span class="RktSym">&lt;-</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Standard_Effects.html#%28def._%28%28lib._freer-lib%2Feffects%2Ffile-system-effect..rkt%29._check-path%29%29" class="RktValLink" data-pltdoc="x">check-path</a></span><span class="hspace">&nbsp;</span><span class="RktVar">path</span><span class="RktPn">)</span><span class="RktPn">]</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/match.html#%28form._%28%28lib._racket%2Fmatch..rkt%29._match%29%29" class="RktStxLink" data-pltdoc="x">match</a></span><span class="hspace">&nbsp;</span><span class="RktSym">type</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktVal">'</span><span class="RktVal">file</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Core_Effects_API.html#%28def._%28%28lib._freer-lib%2Fmain..rkt%29._return%29%29" class="RktValLink" data-pltdoc="x">return</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"It's a file"</span><span class="RktPn">)</span><span class="RktPn">]</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktVal">'</span><span class="RktVal">directory</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Core_Effects_API.html#%28def._%28%28lib._freer-lib%2Fmain..rkt%29._return%29%29" class="RktValLink" data-pltdoc="x">return</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"It's a directory"</span><span class="RktPn">)</span><span class="RktPn">]</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktVal">#f</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Core_Effects_API.html#%28def._%28%28lib._freer-lib%2Fmain..rkt%29._return%29%29" class="RktValLink" data-pltdoc="x">return</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"Path does not exist"</span><span class="RktPn">)</span><span class="RktPn">]</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/stx-patterns.html#%28form._%28%28lib._racket%2Fprivate%2Fstxcase-scheme..rkt%29.__%29%29" class="RktStxLink" data-pltdoc="x">_</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Core_Effects_API.html#%28def._%28%28lib._freer-lib%2Fmain..rkt%29._return%29%29" class="RktValLink" data-pltdoc="x">return</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"It's a link"</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="Core_Effects_API.html#%28def._%28%28lib._freer-lib%2Fmain..rkt%29._run%29%29" class="RktValLink" data-pltdoc="x">run</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">handle-path</span><span class="hspace">&nbsp;</span><span class="RktVal">"existing.txt"</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym">check-handler</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">"It's a file"</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="Core_Effects_API.html#%28def._%28%28lib._freer-lib%2Fmain..rkt%29._run%29%29" class="RktValLink" data-pltdoc="x">run</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">handle-path</span><span class="hspace">&nbsp;</span><span class="RktVal">"my-folder"</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym">check-handler</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">"It's a directory"</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="Core_Effects_API.html#%28def._%28%28lib._freer-lib%2Fmain..rkt%29._run%29%29" class="RktValLink" data-pltdoc="x">run</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">handle-path</span><span class="hspace">&nbsp;</span><span class="RktVal">"missing.txt"</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym">check-handler</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">"Path does not exist"</span></p></td></tr></table></blockquote></div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._freer-lib/effects/file-system-effect..rkt)._delete-path))"></a><span title="Provided from: freer-lib/effects/file-system-effect | Package: freer-lib"><span class="RktSym"><a href="Standard_Effects.html#%28def._%28%28lib._freer-lib%2Feffects%2Ffile-system-effect..rkt%29._delete-path%29%29" class="RktValDef RktValLink" data-pltdoc="x">delete-path</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">path</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="Core_Effects_API.html#%28def._%28%28lib._freer-lib%2Fmain..rkt%29._free~3f%29%29" class="RktValLink" data-pltdoc="x">free?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">path</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/Manipulating_Paths.html#%28def._%28%28lib._racket%2Fprivate%2Fmisc..rkt%29._path-string~3f%29%29" class="RktValLink" data-pltdoc="x">path-string?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Creates an effect that deletes a file or directory at <span class="RktVar">path</span>. If the path is a directory, it and all its contents are recursively deleted. If the path does not exist, no error is raised.</div></p><p><div class="SIntrapara">Examples:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">delete-handler</span><span class="hspace">&nbsp;</span><span class="RktSym">effect</span><span class="hspace">&nbsp;</span><span class="RktSym">k</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/match.html#%28form._%28%28lib._racket%2Fmatch..rkt%29._match%29%29" class="RktStxLink" data-pltdoc="x">match</a></span><span class="hspace">&nbsp;</span><span class="RktSym">effect</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktSym"><a href="Standard_Effects.html#%28def._%28%28lib._freer-lib%2Feffects%2Ffile-system-effect..rkt%29._delete-path-effect%29%29" class="RktValLink" data-pltdoc="x">delete-path-effect</a></span><span class="hspace">&nbsp;</span><span class="RktVar">path</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">k</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/void.html#%28def._%28%28quote._~23~25kernel%29._void%29%29" class="RktValLink" data-pltdoc="x">void</a></span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">]</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/stx-patterns.html#%28form._%28%28lib._racket%2Fprivate%2Fstxcase-scheme..rkt%29.__%29%29" class="RktStxLink" data-pltdoc="x">_</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/exns.html#%28def._%28%28quote._~23~25kernel%29._error%29%29" class="RktValLink" data-pltdoc="x">error</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"unhandled effect"</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">cleanup</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Syntactic_Forms.html#%28form._%28%28lib._freer-lib%2Fmain..rkt%29._do%29%29" class="RktStxLink" data-pltdoc="x">do</a></span><span class="hspace">&nbsp;</span><span class="RktPn">[</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/stx-patterns.html#%28form._%28%28lib._racket%2Fprivate%2Fstxcase-scheme..rkt%29.__%29%29" class="RktStxLink" data-pltdoc="x">_</a></span><span class="hspace">&nbsp;</span><span class="RktSym">&lt;-</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Standard_Effects.html#%28def._%28%28lib._freer-lib%2Feffects%2Ffile-system-effect..rkt%29._delete-path%29%29" class="RktValLink" data-pltdoc="x">delete-path</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"temp.txt"</span><span class="RktPn">)</span><span class="RktPn">]</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/stx-patterns.html#%28form._%28%28lib._racket%2Fprivate%2Fstxcase-scheme..rkt%29.__%29%29" class="RktStxLink" data-pltdoc="x">_</a></span><span class="hspace">&nbsp;</span><span class="RktSym">&lt;-</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Standard_Effects.html#%28def._%28%28lib._freer-lib%2Feffects%2Ffile-system-effect..rkt%29._delete-path%29%29" class="RktValLink" data-pltdoc="x">delete-path</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"old-data"</span><span class="RktPn">)</span><span class="RktPn">]</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Core_Effects_API.html#%28def._%28%28lib._freer-lib%2Fmain..rkt%29._return%29%29" class="RktValLink" data-pltdoc="x">return</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"Cleanup complete"</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="Core_Effects_API.html#%28def._%28%28lib._freer-lib%2Fmain..rkt%29._run%29%29" class="RktValLink" data-pltdoc="x">run</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">cleanup</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym">delete-handler</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">"Cleanup complete"</span></p></td></tr></table></blockquote></div></p></section><section class="SsectionLevel4" id="section 3.6.3"><h4 class="heading">3.6.3<span class="stt">&nbsp;</span><a name="(part._.Default_.Handlers)"></a>Default Handlers<span class="button-group"><a href="#(part._.Default_.Handlers)" class="heading-anchor" title="Link to here">ðŸ”—</a><span style="visibility: hidden"> </span></span></h4><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._freer-lib/effects/file-system-effect..rkt)._do-read-file))"></a><span title="Provided from: freer-lib/effects/file-system-effect | Package: freer-lib"><span class="RktSym"><a href="Standard_Effects.html#%28def._%28%28lib._freer-lib%2Feffects%2Ffile-system-effect..rkt%29._do-read-file%29%29" class="RktValDef RktValLink" data-pltdoc="x">do-read-file</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">path</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/bytestrings.html#%28def._%28%28quote._~23~25kernel%29._bytes~3f%29%29" class="RktValLink" data-pltdoc="x">bytes?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">path</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/Manipulating_Paths.html#%28def._%28%28lib._racket%2Fprivate%2Fmisc..rkt%29._path-string~3f%29%29" class="RktValLink" data-pltdoc="x">path-string?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Default handler for <span class="RktSym"><a href="Standard_Effects.html#%28def._%28%28lib._freer-lib%2Feffects%2Ffile-system-effect..rkt%29._read-file-effect%29%29" class="RktValLink" data-pltdoc="x">read-file-effect</a></span>. Reads the file at <span class="RktVar">path</span> and returns its contents as bytes. Raises an error if the file cannot be read.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._freer-lib/effects/file-system-effect..rkt)._do-write-file))"></a><span title="Provided from: freer-lib/effects/file-system-effect | Package: freer-lib"><span class="RktSym"><a href="Standard_Effects.html#%28def._%28%28lib._freer-lib%2Feffects%2Ffile-system-effect..rkt%29._do-write-file%29%29" class="RktValDef RktValLink" data-pltdoc="x">do-write-file</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">path</span><span class="hspace">&nbsp;</span><span class="RktVar">bytes</span><span class="hspace">&nbsp;</span><span class="RktVar">exists-flag</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/void.html#%28def._%28%28quote._~23~25kernel%29._void~3f%29%29" class="RktValLink" data-pltdoc="x">void?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">path</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/Manipulating_Paths.html#%28def._%28%28lib._racket%2Fprivate%2Fmisc..rkt%29._path-string~3f%29%29" class="RktValLink" data-pltdoc="x">path-string?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">bytes</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/bytestrings.html#%28def._%28%28quote._~23~25kernel%29._bytes~3f%29%29" class="RktValLink" data-pltdoc="x">bytes?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">exists-flag</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fbase..rkt%29._or%2Fc%29%29" class="RktValLink" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">error</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">append</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">update</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">replace</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">truncate</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">truncate/replace</span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">Default handler for <span class="RktSym"><a href="Standard_Effects.html#%28def._%28%28lib._freer-lib%2Feffects%2Ffile-system-effect..rkt%29._write-file-effect%29%29" class="RktValLink" data-pltdoc="x">write-file-effect</a></span>. Writes <span class="RktVar">bytes</span> to <span class="RktVar">path</span> with the specified <span class="RktVar">exists-flag</span>. Raises an error if the file cannot be written.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._freer-lib/effects/file-system-effect..rkt)._do-create-folder))"></a><span title="Provided from: freer-lib/effects/file-system-effect | Package: freer-lib"><span class="RktSym"><a href="Standard_Effects.html#%28def._%28%28lib._freer-lib%2Feffects%2Ffile-system-effect..rkt%29._do-create-folder%29%29" class="RktValDef RktValLink" data-pltdoc="x">do-create-folder</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">path</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/void.html#%28def._%28%28quote._~23~25kernel%29._void~3f%29%29" class="RktValLink" data-pltdoc="x">void?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">path</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/Manipulating_Paths.html#%28def._%28%28lib._racket%2Fprivate%2Fmisc..rkt%29._path-string~3f%29%29" class="RktValLink" data-pltdoc="x">path-string?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Default handler for <span class="RktSym"><a href="Standard_Effects.html#%28def._%28%28lib._freer-lib%2Feffects%2Ffile-system-effect..rkt%29._create-folder-effect%29%29" class="RktValLink" data-pltdoc="x">create-folder-effect</a></span>. Creates the folder at <span class="RktVar">path</span> and all necessary parent directories. Raises an error if the folder cannot be created.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._freer-lib/effects/file-system-effect..rkt)._do-check-path))"></a><span title="Provided from: freer-lib/effects/file-system-effect | Package: freer-lib"><span class="RktSym"><a href="Standard_Effects.html#%28def._%28%28lib._freer-lib%2Feffects%2Ffile-system-effect..rkt%29._do-check-path%29%29" class="RktValDef RktValLink" data-pltdoc="x">do-check-path</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">path</span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fbase..rkt%29._or%2Fc%29%29" class="RktValLink" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">file</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">directory</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">link</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">directory-link</span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">path</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/Manipulating_Paths.html#%28def._%28%28lib._racket%2Fprivate%2Fmisc..rkt%29._path-string~3f%29%29" class="RktValLink" data-pltdoc="x">path-string?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Default handler for <span class="RktSym"><a href="Standard_Effects.html#%28def._%28%28lib._freer-lib%2Feffects%2Ffile-system-effect..rkt%29._check-path-effect%29%29" class="RktValLink" data-pltdoc="x">check-path-effect</a></span>. Returns a symbol indicating the type of the path, or <span class="RktVal">#f</span> if it does not exist.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._freer-lib/effects/file-system-effect..rkt)._do-delete-path))"></a><span title="Provided from: freer-lib/effects/file-system-effect | Package: freer-lib"><span class="RktSym"><a href="Standard_Effects.html#%28def._%28%28lib._freer-lib%2Feffects%2Ffile-system-effect..rkt%29._do-delete-path%29%29" class="RktValDef RktValLink" data-pltdoc="x">do-delete-path</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">path</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/void.html#%28def._%28%28quote._~23~25kernel%29._void~3f%29%29" class="RktValLink" data-pltdoc="x">void?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">path</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/Manipulating_Paths.html#%28def._%28%28lib._racket%2Fprivate%2Fmisc..rkt%29._path-string~3f%29%29" class="RktValLink" data-pltdoc="x">path-string?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Default handler for <span class="RktSym"><a href="Standard_Effects.html#%28def._%28%28lib._freer-lib%2Feffects%2Ffile-system-effect..rkt%29._delete-path-effect%29%29" class="RktValLink" data-pltdoc="x">delete-path-effect</a></span>. Deletes the file or directory at <span class="RktVar">path</span>. If the path is a directory, all its contents are recursively deleted. Does not raise an error if the path does not exist.</div></p></section><section class="SsectionLevel4" id="section 3.6.4"><h4 class="heading">3.6.4<span class="stt">&nbsp;</span><a name="(part._.Usage_.Example)"></a>Usage Example<span class="button-group"><a href="#(part._.Usage_.Example)" class="heading-anchor" title="Link to here">ðŸ”—</a><span style="visibility: hidden"> </span></span></h4><p><div class="SIntrapara">Examples:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">Example: Copy a file with path type checking</span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">copy-handler</span><span class="hspace">&nbsp;</span><span class="RktSym">effect</span><span class="hspace">&nbsp;</span><span class="RktSym">k</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/match.html#%28form._%28%28lib._racket%2Fmatch..rkt%29._match%29%29" class="RktStxLink" data-pltdoc="x">match</a></span><span class="hspace">&nbsp;</span><span class="RktSym">effect</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktSym"><a href="Standard_Effects.html#%28def._%28%28lib._freer-lib%2Feffects%2Ffile-system-effect..rkt%29._check-path-effect%29%29" class="RktValLink" data-pltdoc="x">check-path-effect</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"source.txt"</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">k</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">file</span><span class="RktPn">)</span><span class="RktPn">]</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktSym"><a href="Standard_Effects.html#%28def._%28%28lib._freer-lib%2Feffects%2Ffile-system-effect..rkt%29._read-file-effect%29%29" class="RktValLink" data-pltdoc="x">read-file-effect</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"source.txt"</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">k</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/bytestrings.html#%28def._%28%28quote._~23~25kernel%29._string-~3ebytes%2Futf-8%29%29" class="RktValLink" data-pltdoc="x">string-&gt;bytes/utf-8</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"file contents"</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">]</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktSym"><a href="Standard_Effects.html#%28def._%28%28lib._freer-lib%2Feffects%2Ffile-system-effect..rkt%29._write-file-effect%29%29" class="RktValLink" data-pltdoc="x">write-file-effect</a></span><span class="hspace">&nbsp;</span><span class="RktSym">path</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/bytestrings.html#%28def._%28%28quote._~23~25kernel%29._bytes%29%29" class="RktValLink" data-pltdoc="x">bytes</a></span><span class="hspace">&nbsp;</span><span class="RktSym">flag</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">k</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/void.html#%28def._%28%28quote._~23~25kernel%29._void%29%29" class="RktValLink" data-pltdoc="x">void</a></span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">]</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/stx-patterns.html#%28form._%28%28lib._racket%2Fprivate%2Fstxcase-scheme..rkt%29.__%29%29" class="RktStxLink" data-pltdoc="x">_</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/exns.html#%28def._%28%28quote._~23~25kernel%29._error%29%29" class="RktValLink" data-pltdoc="x">error</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"unhandled effect"</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">copy-file-if-exists</span><span class="hspace">&nbsp;</span><span class="RktSym">src</span><span class="hspace">&nbsp;</span><span class="RktSym">dst</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Syntactic_Forms.html#%28form._%28%28lib._freer-lib%2Fmain..rkt%29._do%29%29" class="RktStxLink" data-pltdoc="x">do</a></span><span class="hspace">&nbsp;</span><span class="RktPn">[</span><span class="RktSym">src-type</span><span class="hspace">&nbsp;</span><span class="RktSym">&lt;-</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Standard_Effects.html#%28def._%28%28lib._freer-lib%2Feffects%2Ffile-system-effect..rkt%29._check-path%29%29" class="RktValLink" data-pltdoc="x">check-path</a></span><span class="hspace">&nbsp;</span><span class="RktSym">src</span><span class="RktPn">)</span><span class="RktPn">]</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/if.html#%28form._%28%28quote._~23~25kernel%29._if%29%29" class="RktStxLink" data-pltdoc="x">if</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/Equality.html#%28def._%28%28quote._~23~25kernel%29._eq~3f%29%29" class="RktValLink" data-pltdoc="x">eq?</a></span><span class="hspace">&nbsp;</span><span class="RktSym">src-type</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">file</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Syntactic_Forms.html#%28form._%28%28lib._freer-lib%2Fmain..rkt%29._do%29%29" class="RktStxLink" data-pltdoc="x">do</a></span><span class="hspace">&nbsp;</span><span class="RktPn">[</span><span class="RktSym">content</span><span class="hspace">&nbsp;</span><span class="RktSym">&lt;-</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Standard_Effects.html#%28def._%28%28lib._freer-lib%2Feffects%2Ffile-system-effect..rkt%29._read-file%29%29" class="RktValLink" data-pltdoc="x">read-file</a></span><span class="hspace">&nbsp;</span><span class="RktSym">src</span><span class="RktPn">)</span><span class="RktPn">]</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/stx-patterns.html#%28form._%28%28lib._racket%2Fprivate%2Fstxcase-scheme..rkt%29.__%29%29" class="RktStxLink" data-pltdoc="x">_</a></span><span class="hspace">&nbsp;</span><span class="RktSym">&lt;-</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Standard_Effects.html#%28def._%28%28lib._freer-lib%2Feffects%2Ffile-system-effect..rkt%29._write-file%29%29" class="RktValLink" data-pltdoc="x">write-file</a></span><span class="hspace">&nbsp;</span><span class="RktSym">dst</span><span class="hspace">&nbsp;</span><span class="RktSym">content</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">truncate</span><span class="RktPn">)</span><span class="RktPn">]</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Core_Effects_API.html#%28def._%28%28lib._freer-lib%2Fmain..rkt%29._return%29%29" class="RktValLink" data-pltdoc="x">return</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"File copied successfully"</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Core_Effects_API.html#%28def._%28%28lib._freer-lib%2Fmain..rkt%29._return%29%29" class="RktValLink" data-pltdoc="x">return</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"Source file does not exist"</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="Core_Effects_API.html#%28def._%28%28lib._freer-lib%2Fmain..rkt%29._run%29%29" class="RktValLink" data-pltdoc="x">run</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">copy-file-if-exists</span><span class="hspace">&nbsp;</span><span class="RktVal">"source.txt"</span><span class="hspace">&nbsp;</span><span class="RktVal">"dest.txt"</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym">copy-handler</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">"File copied successfully"</span></p></td></tr></table></blockquote></div></p><p><span style="font-weight: bold">Error Handling</span>: File system operations can fail due to permission issues, missing files, or other I/O errors. The default handlers wrap file system operations with exception handlers that convert Racket exceptions to more readable error messages. You can write custom handlers to implement retry logic, fallback behavior, or alternative error handling strategies.</p></section></section><section class="SsectionLevel3" id="section 3.7"><h3 class="heading">3.7<span class="stt">&nbsp;</span><a name="(part._.Try-.Catch_.Pattern)"></a><a name="(mod-path._freer-lib/try-catch)"></a>Try-Catch Pattern<span class="button-group"><a href="#(part._.Try-.Catch_.Pattern)" class="heading-anchor" title="Link to here">ðŸ”—</a><span style="visibility: hidden"> </span></span></h3><p><table cellspacing="0" cellpadding="0" class="defmodule"><tr><td align="left"><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/require.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._require%29%29" class="RktStxLink" data-pltdoc="x">require</a></span><span class="stt"> </span><a href="Standard_Effects.html#%28mod-path._freer-lib%2Ftry-catch%29" class="RktModLink" data-pltdoc="x"><span class="RktSym">freer-lib/try-catch</span></a><span class="RktPn">)</span></td><td align="right"><span class="RpackageSpec"><span class="Smaller">&nbsp;package:</span> <a href="https://pkgs.racket-lang.org/package/freer-lib" title="Install this package using `raco pkg install freer-lib`"><span class="stt">freer-lib</span></a></span></td></tr></table></p><p>The try-catch pattern provides a mechanism for handling short-circuit failures in effectful computations. When a computation returns <span class="RktVal">#f</span>, the <span class="RktSym"><a href="Standard_Effects.html#%28def._%28%28lib._freer-lib%2Ftry-catch..rkt%29._try%29%29" class="RktValLink" data-pltdoc="x">try</a></span> form captures this failure and allows an alternative computation to be executed instead.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._freer-lib/try-catch..rkt)._try))"></a><span title="Provided from: freer-lib/try-catch | Package: freer-lib"><span class="RktSym"><a href="Standard_Effects.html#%28def._%28%28lib._freer-lib%2Ftry-catch..rkt%29._try%29%29" class="RktValDef RktValLink" data-pltdoc="x">try</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">computation</span><span class="hspace">&nbsp;</span><span class="RktVar">fallback</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="Core_Effects_API.html#%28def._%28%28lib._freer-lib%2Fmain..rkt%29._free~3f%29%29" class="RktValLink" data-pltdoc="x">free?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">computation</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="Core_Effects_API.html#%28def._%28%28lib._freer-lib%2Fmain..rkt%29._free~3f%29%29" class="RktValLink" data-pltdoc="x">free?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">fallback</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="Core_Effects_API.html#%28def._%28%28lib._freer-lib%2Fmain..rkt%29._free~3f%29%29" class="RktValLink" data-pltdoc="x">free?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Executes a computation and evaluates a fallback computation if the original returns <span class="RktVal">#f</span>.</div></p><p>When <span class="RktVar">computation</span> returns <span class="RktVal">#f</span>, a <span class="RktSym">failure-effect</span> is performed with the <span class="RktVar">fallback</span> computation. If the computation returns any other value, that value is returned directly.</p><p>This is typically used with <span class="RktSym"><a href="Standard_Effects.html#%28def._%28%28lib._freer-lib%2Ftry-catch..rkt%29._catch%29%29" class="RktValLink" data-pltdoc="x">catch</a></span> to handle the <span class="RktSym">failure-effect</span>:</p><p><div class="SIntrapara">Examples:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktVar">computation</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Syntactic_Forms.html#%28form._%28%28lib._freer-lib%2Fmain..rkt%29._do%29%29" class="RktStxLink" data-pltdoc="x">do</a></span><span class="hspace">&nbsp;</span><span class="RktPn">[</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="RktSym">&lt;-</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Core_Effects_API.html#%28def._%28%28lib._freer-lib%2Fmain..rkt%29._return%29%29" class="RktValLink" data-pltdoc="x">return</a></span><span class="hspace">&nbsp;</span><span class="RktVal">10</span><span class="RktPn">)</span><span class="RktPn">]</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/if.html#%28form._%28%28quote._~23~25kernel%29._if%29%29" class="RktStxLink" data-pltdoc="x">if</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/generic-numbers.html#%28def._%28%28quote._~23~25kernel%29._~3e%29%29" class="RktValLink" data-pltdoc="x">&gt;</a></span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="RktVal">20</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Core_Effects_API.html#%28def._%28%28lib._freer-lib%2Fmain..rkt%29._return%29%29" class="RktValLink" data-pltdoc="x">return</a></span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Core_Effects_API.html#%28def._%28%28lib._freer-lib%2Fmain..rkt%29._return%29%29" class="RktValLink" data-pltdoc="x">return</a></span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="Core_Effects_API.html#%28def._%28%28lib._freer-lib%2Fmain..rkt%29._run%29%29" class="RktValLink" data-pltdoc="x">run</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Standard_Effects.html#%28def._%28%28lib._freer-lib%2Ftry-catch..rkt%29._catch%29%29" class="RktValLink" data-pltdoc="x">catch</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Standard_Effects.html#%28def._%28%28lib._freer-lib%2Ftry-catch..rkt%29._try%29%29" class="RktValLink" data-pltdoc="x">try</a></span><span class="hspace">&nbsp;</span><span class="RktVar">computation</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Core_Effects_API.html#%28def._%28%28lib._freer-lib%2Fmain..rkt%29._return%29%29" class="RktValLink" data-pltdoc="x">return</a></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">fallback-value</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/lambda.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._lambda%29%29" class="RktStxLink" data-pltdoc="x">lambda</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">eff</span><span class="hspace">&nbsp;</span><span class="RktSym">k</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">k</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">default</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><p><span class="RktRes">'fallback-value</span></p></td></tr></table></blockquote></div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._freer-lib/try-catch..rkt)._catch))"></a><span title="Provided from: freer-lib/try-catch | Package: freer-lib"><span class="RktSym"><a href="Standard_Effects.html#%28def._%28%28lib._freer-lib%2Ftry-catch..rkt%29._catch%29%29" class="RktValDef RktValLink" data-pltdoc="x">catch</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">computation</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="Core_Effects_API.html#%28def._%28%28lib._freer-lib%2Fmain..rkt%29._free~3f%29%29" class="RktValLink" data-pltdoc="x">free?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">computation</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="Core_Effects_API.html#%28def._%28%28lib._freer-lib%2Fmain..rkt%29._free~3f%29%29" class="RktValLink" data-pltdoc="x">free?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Interprets a computation that may produce <span class="RktSym">failure-effect</span>s, converting them into successful computations.</div></p><p>The <span class="RktSym"><a href="Standard_Effects.html#%28def._%28%28lib._freer-lib%2Ftry-catch..rkt%29._catch%29%29" class="RktValLink" data-pltdoc="x">catch</a></span> procedure installs an interpreter that handles <span class="RktSym">failure-effect</span>s by returning their fallback computation. Any other effects are re-performed in the interpretation context.</p><p>This allows computations using <span class="RktSym"><a href="Standard_Effects.html#%28def._%28%28lib._freer-lib%2Ftry-catch..rkt%29._try%29%29" class="RktValLink" data-pltdoc="x">try</a></span> to properly handle failures:</p><p><div class="SIntrapara">Examples:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">failing-computation</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Syntactic_Forms.html#%28form._%28%28lib._freer-lib%2Fmain..rkt%29._do%29%29" class="RktStxLink" data-pltdoc="x">do</a></span><span class="hspace">&nbsp;</span><span class="RktPn">[</span><span class="RktSym">a</span><span class="hspace">&nbsp;</span><span class="RktSym">&lt;-</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Core_Effects_API.html#%28def._%28%28lib._freer-lib%2Fmain..rkt%29._return%29%29" class="RktValLink" data-pltdoc="x">return</a></span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="RktPn">)</span><span class="RktPn">]</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktSym">b</span><span class="hspace">&nbsp;</span><span class="RktSym">&lt;-</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Standard_Effects.html#%28def._%28%28lib._freer-lib%2Ftry-catch..rkt%29._try%29%29" class="RktValLink" data-pltdoc="x">try</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Core_Effects_API.html#%28def._%28%28lib._freer-lib%2Fmain..rkt%29._return%29%29" class="RktValLink" data-pltdoc="x">return</a></span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Core_Effects_API.html#%28def._%28%28lib._freer-lib%2Fmain..rkt%29._return%29%29" class="RktValLink" data-pltdoc="x">return</a></span><span class="hspace">&nbsp;</span><span class="RktVal">100</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">]</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Core_Effects_API.html#%28def._%28%28lib._freer-lib%2Fmain..rkt%29._return%29%29" class="RktValLink" data-pltdoc="x">return</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/generic-numbers.html#%28def._%28%28quote._~23~25kernel%29._%2B%29%29" class="RktValLink" data-pltdoc="x">+</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a</span><span class="hspace">&nbsp;</span><span class="RktSym">b</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="Core_Effects_API.html#%28def._%28%28lib._freer-lib%2Fmain..rkt%29._run%29%29" class="RktValLink" data-pltdoc="x">run</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Standard_Effects.html#%28def._%28%28lib._freer-lib%2Ftry-catch..rkt%29._catch%29%29" class="RktValLink" data-pltdoc="x">catch</a></span><span class="hspace">&nbsp;</span><span class="RktSym">failing-computation</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/lambda.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._lambda%29%29" class="RktStxLink" data-pltdoc="x">lambda</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">eff</span><span class="hspace">&nbsp;</span><span class="RktSym">k</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">k</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">handler</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><p><span class="RktRes">100</span></p></td></tr></table></blockquote></div></p><section class="SsectionLevel4" id="section 3.7.1"><h4 class="heading">3.7.1<span class="stt">&nbsp;</span><a name="(part._.Usage_.Pattern)"></a>Usage Pattern<span class="button-group"><a href="#(part._.Usage_.Pattern)" class="heading-anchor" title="Link to here">ðŸ”—</a><span style="visibility: hidden"> </span></span></h4><p>The typical pattern for using try-catch is:</p><ul><li><p>Wrapping computations that might return <span class="RktVal">#f</span> with <span class="RktSym"><a href="Standard_Effects.html#%28def._%28%28lib._freer-lib%2Ftry-catch..rkt%29._try%29%29" class="RktValLink" data-pltdoc="x">try</a></span>, providing a fallback</p></li><li><p>Wrapping the entire computation sequence with <span class="RktSym"><a href="Standard_Effects.html#%28def._%28%28lib._freer-lib%2Ftry-catch..rkt%29._catch%29%29" class="RktValLink" data-pltdoc="x">catch</a></span> to install the failure interpreter</p></li><li><p>If a computation returns <span class="RktVal">#f</span>, the fallback is used and subsequent computations are skipped</p></li><li><p>If all computations succeed (return non-<span class="RktVal">#f</span> values), the computation proceeds normally</p></li></ul><p><div class="SIntrapara">Examples:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">check-positive</span><span class="hspace">&nbsp;</span><span class="RktSym">n</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/if.html#%28form._%28%28quote._~23~25kernel%29._if%29%29" class="RktStxLink" data-pltdoc="x">if</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/number-types.html#%28def._%28%28quote._~23~25kernel%29._positive~3f%29%29" class="RktValLink" data-pltdoc="x">positive?</a></span><span class="hspace">&nbsp;</span><span class="RktSym">n</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Core_Effects_API.html#%28def._%28%28lib._freer-lib%2Fmain..rkt%29._return%29%29" class="RktValLink" data-pltdoc="x">return</a></span><span class="hspace">&nbsp;</span><span class="RktSym">n</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Core_Effects_API.html#%28def._%28%28lib._freer-lib%2Fmain..rkt%29._return%29%29" class="RktValLink" data-pltdoc="x">return</a></span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">computation</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Syntactic_Forms.html#%28form._%28%28lib._freer-lib%2Fmain..rkt%29._do%29%29" class="RktStxLink" data-pltdoc="x">do</a></span><span class="hspace">&nbsp;</span><span class="RktPn">[</span><span class="RktSym">a</span><span class="hspace">&nbsp;</span><span class="RktSym">&lt;-</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">check-positive</span><span class="hspace">&nbsp;</span><span class="RktVal">5</span><span class="RktPn">)</span><span class="RktPn">]</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktSym">b</span><span class="hspace">&nbsp;</span><span class="RktSym">&lt;-</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Standard_Effects.html#%28def._%28%28lib._freer-lib%2Ftry-catch..rkt%29._try%29%29" class="RktValLink" data-pltdoc="x">try</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">check-positive</span><span class="hspace">&nbsp;</span><span class="RktVal"><span class="nobreak">-3</span></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Core_Effects_API.html#%28def._%28%28lib._freer-lib%2Fmain..rkt%29._return%29%29" class="RktValLink" data-pltdoc="x">return</a></span><span class="hspace">&nbsp;</span><span class="RktVal">0</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">]</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktSym">c</span><span class="hspace">&nbsp;</span><span class="RktSym">&lt;-</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">check-positive</span><span class="hspace">&nbsp;</span><span class="RktVal">10</span><span class="RktPn">)</span><span class="RktPn">]</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Core_Effects_API.html#%28def._%28%28lib._freer-lib%2Fmain..rkt%29._return%29%29" class="RktValLink" data-pltdoc="x">return</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/generic-numbers.html#%28def._%28%28quote._~23~25kernel%29._%2B%29%29" class="RktValLink" data-pltdoc="x">+</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a</span><span class="hspace">&nbsp;</span><span class="RktSym">b</span><span class="hspace">&nbsp;</span><span class="RktSym">c</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="Core_Effects_API.html#%28def._%28%28lib._freer-lib%2Fmain..rkt%29._run%29%29" class="RktValLink" data-pltdoc="x">run</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Standard_Effects.html#%28def._%28%28lib._freer-lib%2Ftry-catch..rkt%29._catch%29%29" class="RktValLink" data-pltdoc="x">catch</a></span><span class="hspace">&nbsp;</span><span class="RktSym">computation</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/lambda.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._lambda%29%29" class="RktStxLink" data-pltdoc="x">lambda</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">eff</span><span class="hspace">&nbsp;</span><span class="RktSym">k</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">k</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">error</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><p><span class="RktRes">0</span></p></td></tr></table></blockquote></div></p></section></section></section><div class="navsetbottom"><span class="navleft"><div class="nosearchform"></div>&nbsp;&nbsp;<span class="tocsettoggle">&nbsp;&nbsp;<a href="javascript:void(0);" title="show/hide table of contents" onclick="TocsetToggle();">contents</a></span></span><span class="navright">&nbsp;&nbsp;<a href="Syntactic_Forms.html" title="backward to &quot;2 Syntactic Forms&quot;" data-pltdoc="x" rel="prev">&larr; prev</a>&nbsp;&nbsp;<a href="index.html" title="up to &quot;Algebraic Effects&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<span class="nonavigation">next &rarr;</span></span>&nbsp;</div></div></div><div id="contextindicator">&nbsp;</div></body></html>