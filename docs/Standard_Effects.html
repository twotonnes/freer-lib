<!DOCTYPE html>
<html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"/><meta name="viewport" content="width=device-width, initial-scale=0.8"/><title>3&nbsp;Standard Effects</title><link rel="stylesheet" type="text/css" href="scribble.css" title="default"/><link rel="stylesheet" type="text/css" href="racket.css" title="default"/><link rel="stylesheet" type="text/css" href="manual-style.css" title="default"/><link rel="stylesheet" type="text/css" href="manual-racket.css" title="default"/><script type="text/javascript" src="scribble-common.js"></script><script type="text/javascript" src="manual-racket.js"></script></head><body id="scribble-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist tocviewlisttopspace"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9660;</a></td><td></td><td><a href="index.html" class="tocviewlink" data-pltdoc="x">Algebraic Effects</a></td></tr></table></div><div class="tocviewsublisttop" style="display: block;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right">1&nbsp;</td><td><a href="Core_Effects_API.html" class="tocviewlink" data-pltdoc="x">Core Effects API</a></td></tr><tr><td align="right">2&nbsp;</td><td><a href="Syntactic_Forms.html" class="tocviewlink" data-pltdoc="x">Syntactic Forms</a></td></tr><tr><td align="right">3&nbsp;</td><td><a href="Standard_Effects.html" class="tocviewselflink" data-pltdoc="x">Standard Effects</a></td></tr></table></div></div><div class="tocviewlist"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_1&quot;);">&#9658;</a></td><td>3&nbsp;</td><td><a href="Standard_Effects.html" class="tocviewselflink" data-pltdoc="x">Standard Effects</a></td></tr></table><div class="tocviewsublistbottom" style="display: none;" id="tocview_1"><table cellspacing="0" cellpadding="0"><tr><td align="right">3.1&nbsp;</td><td><a href="Standard_Effects.html#%28part._.Understanding_.Basic_.Effects%29" class="tocviewlink" data-pltdoc="x">Understanding Basic Effects</a></td></tr><tr><td align="right">3.2&nbsp;</td><td><a href="Standard_Effects.html#%28part._.System_.Commands%29" class="tocviewlink" data-pltdoc="x">System Commands</a></td></tr><tr><td align="right">3.3&nbsp;</td><td><a href="Standard_Effects.html#%28part._.H.T.T.P_.Requests%29" class="tocviewlink" data-pltdoc="x">HTTP Requests</a></td></tr><tr><td align="right">3.4&nbsp;</td><td><a href="Standard_Effects.html#%28part._.The_.Nothing_.Effect%29" class="tocviewlink" data-pltdoc="x">The Nothing Effect</a></td></tr></table></div></div></div><div class="tocsub"><div class="tocsubtitle">On this page:</div><table class="tocsublist" cellspacing="0"><tr><td><span class="tocsublinknumber">3.1<span class="stt">&nbsp;</span></span><a href="#%28part._.Understanding_.Basic_.Effects%29" class="tocsubseclink" data-pltdoc="x">Understanding Basic Effects</a></td></tr><tr><td><a href="#%28def._%28%28lib._effect-lib%2Feffects%2Fid-effect..rkt%29._id-effect%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">id-<wbr></wbr>effect</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._effect-lib%2Feffects%2Fid-effect..rkt%29._id%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">id</span></span></a></td></tr><tr><td><span class="tocsublinknumber">3.2<span class="stt">&nbsp;</span></span><a href="#%28part._.System_.Commands%29" class="tocsubseclink" data-pltdoc="x">System Commands</a></td></tr><tr><td><a href="#%28def._%28%28lib._effect-lib%2Feffects%2Fcmd-effect..rkt%29._cmd-effect%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">cmd-<wbr></wbr>effect</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._effect-lib%2Feffects%2Fcmd-effect..rkt%29._cmd-result%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">cmd-<wbr></wbr>result</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._effect-lib%2Feffects%2Fcmd-effect..rkt%29._cmd-failure%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">cmd-<wbr></wbr>failure</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._effect-lib%2Feffects%2Fcmd-effect..rkt%29._cmd%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">cmd</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._effect-lib%2Feffects%2Fcmd-effect..rkt%29._execute-command%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">execute-<wbr></wbr>command</span></span></a></td></tr><tr><td><span class="tocsublinknumber">3.3<span class="stt">&nbsp;</span></span><a href="#%28part._.H.T.T.P_.Requests%29" class="tocsubseclink" data-pltdoc="x">HTTP Requests</a></td></tr><tr><td><a href="#%28def._%28%28lib._effect-lib%2Feffects%2Fhttp-effect..rkt%29._http-effect%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">http-<wbr></wbr>effect</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._effect-lib%2Feffects%2Fhttp-effect..rkt%29._http-get%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">http-<wbr></wbr>get</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._effect-lib%2Feffects%2Fhttp-effect..rkt%29._http-post%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">http-<wbr></wbr>post</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._effect-lib%2Feffects%2Fhttp-effect..rkt%29._http-put%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">http-<wbr></wbr>put</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._effect-lib%2Feffects%2Fhttp-effect..rkt%29._http-patch%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">http-<wbr></wbr>patch</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._effect-lib%2Feffects%2Fhttp-effect..rkt%29._http-delete%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">http-<wbr></wbr>delete</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._effect-lib%2Feffects%2Fhttp-effect..rkt%29._perform-http-request%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">perform-<wbr></wbr>http-<wbr></wbr>request</span></span></a></td></tr><tr><td><span class="tocsublinknumber">3.4<span class="stt">&nbsp;</span></span><a href="#%28part._.The_.Nothing_.Effect%29" class="tocsubseclink" data-pltdoc="x">The Nothing Effect</a></td></tr><tr><td><a href="#%28def._%28%28lib._effect-lib%2Feffects%2Fnothing-effect..rkt%29._nothing-effect%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">nothing-<wbr></wbr>effect</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._effect-lib%2Feffects%2Fnothing-effect..rkt%29._nothing%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">nothing</span></span></a></td></tr></table></div></div><div class="maincolumn"><div class="main"><div class="versionbox"><span class="version">9.0</span></div><div class="navsettop"><span class="navleft"><div class="nosearchform"></div>&nbsp;&nbsp;<span class="tocsettoggle">&nbsp;&nbsp;<a href="javascript:void(0);" title="show/hide table of contents" onclick="TocsetToggle();">contents</a></span></span><span class="navright">&nbsp;&nbsp;<a href="Syntactic_Forms.html" title="backward to &quot;2 Syntactic Forms&quot;" data-pltdoc="x" rel="prev">&larr; prev</a>&nbsp;&nbsp;<a href="index.html" title="up to &quot;Algebraic Effects&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<span class="nonavigation">next &rarr;</span></span>&nbsp;</div><section class="SsectionLevel2" id="section 3"><h2 class="heading">3<span class="stt">&nbsp;</span><a name="(part._.Standard_.Effects)"></a>Standard Effects<span class="button-group"><a href="#(part._.Standard_.Effects)" class="heading-anchor" title="Link to here">ðŸ”—</a><span style="visibility: hidden"> </span></span></h2><p>While the core library allows you to define any effect you wish, this module provides a set of common, pre-defined effects for everyday tasks like Input/Output, HTTP requests, and system commands.</p><p>These effects come with companion **default handlers**. You are not required to use these handlers&#8212;you can write your own interpreters for <span class="RktSym"><a href="Standard_Effects.html#%28def._%28%28lib._effect-lib%2Feffects%2Fcmd-effect..rkt%29._cmd-effect%29%29" class="RktValLink" data-pltdoc="x">cmd-effect</a></span> or <span class="RktSym"><a href="Standard_Effects.html#%28def._%28%28lib._effect-lib%2Feffects%2Fhttp-effect..rkt%29._http-effect%29%29" class="RktValLink" data-pltdoc="x">http-effect</a></span> if you wish to mock them for testing&#8212;but the default handlers provide production-ready implementations.</p><section class="SsectionLevel3" id="section 3.1"><h3 class="heading">3.1<span class="stt">&nbsp;</span><a name="(part._.Understanding_.Basic_.Effects)"></a><a name="(mod-path._effect-lib/effects/id-effect)"></a>Understanding Basic Effects<span class="button-group"><a href="#(part._.Understanding_.Basic_.Effects)" class="heading-anchor" title="Link to here">ðŸ”—</a><span style="visibility: hidden"> </span></span></h3><p>To understand how these standard effects work, consider the simplest one: the Identity effect.</p><p><table cellspacing="0" cellpadding="0" class="defmodule"><tr><td align="left"><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/require.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._require%29%29" class="RktStxLink" data-pltdoc="x">require</a></span><span class="stt"> </span><a href="Standard_Effects.html#%28mod-path._effect-lib%2Feffects%2Fid-effect%29" class="RktModLink" data-pltdoc="x"><span class="RktSym">effect-lib/effects/id-effect</span></a><span class="RktPn">)</span></td><td align="right"><span class="RpackageSpec"><span class="Smaller">&nbsp;package:</span> <a href="https://pkgs.racket-lang.org/package/effect-lib" title="Install this package using `raco pkg install effect-lib`"><span class="stt">effect-lib</span></a></span></td></tr></table></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>struct</p></div></div><table cellspacing="0" cellpadding="0" class="RForeground"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/define-struct.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._struct%29%29" class="RktStxLink" data-pltdoc="x">struct</a></span></td><td><span class="hspace">&nbsp;</span></td><td><a name="(def._((lib._effect-lib/effects/id-effect..rkt)._id-effect-value))"></a><a name="(def._((lib._effect-lib/effects/id-effect..rkt)._make-id-effect))"></a><a name="(def._((lib._effect-lib/effects/id-effect..rkt)._id-effect~3f))"></a><a name="(def._((lib._effect-lib/effects/id-effect..rkt)._struct~3aid-effect))"></a><a name="(def._((lib._effect-lib/effects/id-effect..rkt)._id-effect))"></a><span title="Provided from: effect-lib/effects/id-effect | Package: effect-lib"><span class="RktSym"><a href="Standard_Effects.html#%28def._%28%28lib._effect-lib%2Feffects%2Fid-effect..rkt%29._id-effect%29%29" class="RktValDef RktValLink" data-pltdoc="x">id-effect</a></span></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">value</span><span class="RktPn">)</span></td></tr></table></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">#:extra-constructor-name</span><span class="hspace">&nbsp;</span><span class="RktSym">make-id-effect</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">#:transparent</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">value</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fprivate%2Fmisc..rkt%29._any%2Fc%29%29" class="RktValLink" data-pltdoc="x">any/c</a></span></td></tr></table></blockquote></div><div class="SIntrapara">A descriptor that simply holds a value.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._effect-lib/effects/id-effect..rkt)._id))"></a><span title="Provided from: effect-lib/effects/id-effect | Package: effect-lib"><span class="RktSym"><a href="Standard_Effects.html#%28def._%28%28lib._effect-lib%2Feffects%2Fid-effect..rkt%29._id%29%29" class="RktValDef RktValLink" data-pltdoc="x">id</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">v</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">effect?</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">v</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fprivate%2Fmisc..rkt%29._any%2Fc%29%29" class="RktValLink" data-pltdoc="x">any/c</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Constructs an effect that wraps <span class="RktVar">v</span>.</div></p><p>When you use <span class="RktSym"><a href="Standard_Effects.html#%28def._%28%28lib._effect-lib%2Feffects%2Fid-effect..rkt%29._id%29%29" class="RktValLink" data-pltdoc="x">id</a></span>, you are effectively pausing the computation to hand a value to the handler, which is expected to hand it right back.</p><p><div class="SIntrapara">Examples:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">computation</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Syntactic_Forms.html#%28form._%28%28lib._effect-lib%2Fmain..rkt%29._do%29%29" class="RktStxLink" data-pltdoc="x">do</a></span><span class="hspace">&nbsp;</span><span class="RktPn">[</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="RktSym">&lt;-</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Standard_Effects.html#%28def._%28%28lib._effect-lib%2Feffects%2Fid-effect..rkt%29._id%29%29" class="RktValLink" data-pltdoc="x">id</a></span><span class="hspace">&nbsp;</span><span class="RktVal">10</span><span class="RktPn">)</span><span class="RktPn">]</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktSym">y</span><span class="hspace">&nbsp;</span><span class="RktSym">&lt;-</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Standard_Effects.html#%28def._%28%28lib._effect-lib%2Feffects%2Fid-effect..rkt%29._id%29%29" class="RktValLink" data-pltdoc="x">id</a></span><span class="hspace">&nbsp;</span><span class="RktVal">20</span><span class="RktPn">)</span><span class="RktPn">]</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Core_Effects_API.html#%28def._%28%28lib._effect-lib%2Fmain..rkt%29._return%29%29" class="RktValLink" data-pltdoc="x">return</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/generic-numbers.html#%28def._%28%28quote._~23~25kernel%29._%2B%29%29" class="RktValLink" data-pltdoc="x">+</a></span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="RktSym">y</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="Syntactic_Forms.html#%28form._%28%28lib._effect-lib%2Fmain..rkt%29._with-effect-handlers%29%29" class="RktStxLink" data-pltdoc="x">with-effect-handlers</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktSym"><a href="Standard_Effects.html#%28def._%28%28lib._effect-lib%2Feffects%2Fid-effect..rkt%29._id-effect%29%29" class="RktValLink" data-pltdoc="x">id-effect</a></span><span class="hspace">&nbsp;</span><span class="RktSym">v</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Core_Effects_API.html#%28def._%28%28lib._effect-lib%2Fmain..rkt%29._return%29%29" class="RktValLink" data-pltdoc="x">return</a></span><span class="hspace">&nbsp;</span><span class="RktSym">v</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">computation</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><p><span class="RktRes">30</span></p></td></tr></table></blockquote></div></p></section><section class="SsectionLevel3" id="section 3.2"><h3 class="heading">3.2<span class="stt">&nbsp;</span><a name="(part._.System_.Commands)"></a><a name="(mod-path._effect-lib/effects/cmd-effect)"></a>System Commands<span class="button-group"><a href="#(part._.System_.Commands)" class="heading-anchor" title="Link to here">ðŸ”—</a><span style="visibility: hidden"> </span></span></h3><p><table cellspacing="0" cellpadding="0" class="defmodule"><tr><td align="left" colspan="2"><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/require.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._require%29%29" class="RktStxLink" data-pltdoc="x">require</a></span><span class="stt"> </span><a href="Standard_Effects.html#%28mod-path._effect-lib%2Feffects%2Fcmd-effect%29" class="RktModLink" data-pltdoc="x"><span class="RktSym">effect-lib/effects/cmd-effect</span></a><span class="RktPn">)</span></td></tr><tr><td align="left">&nbsp;</td><td align="right"><span class="RpackageSpec"><span class="Smaller">&nbsp;package:</span> <a href="https://pkgs.racket-lang.org/package/effect-lib" title="Install this package using `raco pkg install effect-lib`"><span class="stt">effect-lib</span></a></span></td></tr></table></p><p>This module provides effects for executing shell commands and capturing their output.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>struct</p></div></div><table cellspacing="0" cellpadding="0" class="RForeground"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/define-struct.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._struct%29%29" class="RktStxLink" data-pltdoc="x">struct</a></span></td><td><span class="hspace">&nbsp;</span></td><td><a name="(def._((lib._effect-lib/effects/cmd-effect..rkt)._cmd-effect-command))"></a><a name="(def._((lib._effect-lib/effects/cmd-effect..rkt)._make-cmd-effect))"></a><a name="(def._((lib._effect-lib/effects/cmd-effect..rkt)._cmd-effect~3f))"></a><a name="(def._((lib._effect-lib/effects/cmd-effect..rkt)._struct~3acmd-effect))"></a><a name="(def._((lib._effect-lib/effects/cmd-effect..rkt)._cmd-effect))"></a><span title="Provided from: effect-lib/effects/cmd-effect | Package: effect-lib"><span class="RktSym"><a href="Standard_Effects.html#%28def._%28%28lib._effect-lib%2Feffects%2Fcmd-effect..rkt%29._cmd-effect%29%29" class="RktValDef RktValLink" data-pltdoc="x">cmd-effect</a></span></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">command</span><span class="RktPn">)</span></td></tr></table></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">#:extra-constructor-name</span><span class="hspace">&nbsp;</span><span class="RktSym">make-cmd-effect</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">#:transparent</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">command</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/strings.html#%28def._%28%28quote._~23~25kernel%29._string~3f%29%29" class="RktValLink" data-pltdoc="x">string?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">An effect descriptor for running a system command.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>struct</p></div></div><table cellspacing="0" cellpadding="0" class="RForeground"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/define-struct.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._struct%29%29" class="RktStxLink" data-pltdoc="x">struct</a></span></td><td><span class="hspace">&nbsp;</span></td><td><a name="(def._((lib._effect-lib/effects/cmd-effect..rkt)._cmd-result-exit-code))"></a><a name="(def._((lib._effect-lib/effects/cmd-effect..rkt)._cmd-result-err))"></a><a name="(def._((lib._effect-lib/effects/cmd-effect..rkt)._cmd-result-out))"></a><a name="(def._((lib._effect-lib/effects/cmd-effect..rkt)._make-cmd-result))"></a><a name="(def._((lib._effect-lib/effects/cmd-effect..rkt)._cmd-result~3f))"></a><a name="(def._((lib._effect-lib/effects/cmd-effect..rkt)._struct~3acmd-result))"></a><a name="(def._((lib._effect-lib/effects/cmd-effect..rkt)._cmd-result))"></a><span title="Provided from: effect-lib/effects/cmd-effect | Package: effect-lib"><span class="RktSym"><a href="Standard_Effects.html#%28def._%28%28lib._effect-lib%2Feffects%2Fcmd-effect..rkt%29._cmd-result%29%29" class="RktValDef RktValLink" data-pltdoc="x">cmd-result</a></span></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">out</span><span class="stt"> </span><span class="RktSym">err</span><span class="stt"> </span><span class="RktSym">exit-code</span><span class="RktPn">)</span></td></tr></table></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">#:extra-constructor-name</span><span class="hspace">&nbsp;</span><span class="RktSym">make-cmd-result</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">#:transparent</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">out</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/strings.html#%28def._%28%28quote._~23~25kernel%29._string~3f%29%29" class="RktValLink" data-pltdoc="x">string?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">err</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/strings.html#%28def._%28%28quote._~23~25kernel%29._string~3f%29%29" class="RktValLink" data-pltdoc="x">string?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">exit-code</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/bytestrings.html#%28def._%28%28quote._~23~25kernel%29._byte~3f%29%29" class="RktValLink" data-pltdoc="x">byte?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">The structure returned by the handler after a command completes successfully.
</div><div class="SIntrapara"><ul><li><p><span class="RktSym">out</span>: Standard output captured as a string.</p></li><li><p><span class="RktSym">err</span>: Standard error captured as a string.</p></li><li><p><span class="RktSym">exit-code</span>: The integer exit code of the process.</p></li></ul></div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>struct</p></div></div><table cellspacing="0" cellpadding="0" class="RForeground"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/define-struct.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._struct%29%29" class="RktStxLink" data-pltdoc="x">struct</a></span></td><td><span class="hspace">&nbsp;</span></td><td><a name="(def._((lib._effect-lib/effects/cmd-effect..rkt)._cmd-failure-err))"></a><a name="(def._((lib._effect-lib/effects/cmd-effect..rkt)._make-cmd-failure))"></a><a name="(def._((lib._effect-lib/effects/cmd-effect..rkt)._cmd-failure~3f))"></a><a name="(def._((lib._effect-lib/effects/cmd-effect..rkt)._struct~3acmd-failure))"></a><a name="(def._((lib._effect-lib/effects/cmd-effect..rkt)._cmd-failure))"></a><span title="Provided from: effect-lib/effects/cmd-effect | Package: effect-lib"><span class="RktSym"><a href="Standard_Effects.html#%28def._%28%28lib._effect-lib%2Feffects%2Fcmd-effect..rkt%29._cmd-failure%29%29" class="RktValDef RktValLink" data-pltdoc="x">cmd-failure</a></span></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">err</span><span class="RktPn">)</span></td></tr></table></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">#:extra-constructor-name</span><span class="hspace">&nbsp;</span><span class="RktSym">make-cmd-failure</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">#:transparent</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">err</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/strings.html#%28def._%28%28quote._~23~25kernel%29._string~3f%29%29" class="RktValLink" data-pltdoc="x">string?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">An effect descriptor representing a system failure that occurred while attempting to execute a command (e.g., executable not found, permission denied).</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._effect-lib/effects/cmd-effect..rkt)._cmd))"></a><span title="Provided from: effect-lib/effects/cmd-effect | Package: effect-lib"><span class="RktSym"><a href="Standard_Effects.html#%28def._%28%28lib._effect-lib%2Feffects%2Fcmd-effect..rkt%29._cmd%29%29" class="RktValDef RktValLink" data-pltdoc="x">cmd</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">command</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">effect?</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">command</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/strings.html#%28def._%28%28quote._~23~25kernel%29._string~3f%29%29" class="RktValLink" data-pltdoc="x">string?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Creates an effect that requests the execution of <span class="RktVar">command</span>.</div></p><p><div class="SIntrapara">Example:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">check-status</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Syntactic_Forms.html#%28form._%28%28lib._effect-lib%2Fmain..rkt%29._do%29%29" class="RktStxLink" data-pltdoc="x">do</a></span><span class="hspace">&nbsp;</span><span class="RktPn">[</span><span class="RktSym">res</span><span class="hspace">&nbsp;</span><span class="RktSym">&lt;-</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Standard_Effects.html#%28def._%28%28lib._effect-lib%2Feffects%2Fcmd-effect..rkt%29._cmd%29%29" class="RktValLink" data-pltdoc="x">cmd</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"echo \"checking git status\""</span><span class="RktPn">)</span><span class="RktPn">]</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/if.html#%28form._%28%28quote._~23~25kernel%29._if%29%29" class="RktStxLink" data-pltdoc="x">if</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/number-types.html#%28def._%28%28quote._~23~25kernel%29._zero~3f%29%29" class="RktValLink" data-pltdoc="x">zero?</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Standard_Effects.html#%28def._%28%28lib._effect-lib%2Feffects%2Fcmd-effect..rkt%29._cmd-result-exit-code%29%29" class="RktValLink" data-pltdoc="x">cmd-result-exit-code</a></span><span class="hspace">&nbsp;</span><span class="RktSym">res</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Core_Effects_API.html#%28def._%28%28lib._effect-lib%2Fmain..rkt%29._return%29%29" class="RktValLink" data-pltdoc="x">return</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Standard_Effects.html#%28def._%28%28lib._effect-lib%2Feffects%2Fcmd-effect..rkt%29._cmd-result-out%29%29" class="RktValLink" data-pltdoc="x">cmd-result-out</a></span><span class="hspace">&nbsp;</span><span class="RktSym">res</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Core_Effects_API.html#%28def._%28%28lib._effect-lib%2Fmain..rkt%29._return%29%29" class="RktValLink" data-pltdoc="x">return</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"Git check failed"</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr></table></blockquote></div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._effect-lib/effects/cmd-effect..rkt)._execute-command))"></a><span title="Provided from: effect-lib/effects/cmd-effect | Package: effect-lib"><span class="RktSym"><a href="Standard_Effects.html#%28def._%28%28lib._effect-lib%2Feffects%2Fcmd-effect..rkt%29._execute-command%29%29" class="RktValDef RktValLink" data-pltdoc="x">execute-command</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">command</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fbase..rkt%29._or%2Fc%29%29" class="RktValLink" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym">pure?</span><span class="hspace">&nbsp;</span><span class="RktSym">effect?</span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">command</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/strings.html#%28def._%28%28quote._~23~25kernel%29._string~3f%29%29" class="RktValLink" data-pltdoc="x">string?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">The default implementation for executing commands. It attempts to run the <span class="RktVar">command</span> string using the system&rsquo;s shell (specifically targeting PowerShell on Windows environments).</div></p><ul><li><p><span class="emph">Success</span>: Returns a <span class="RktSym"><a href="Core_Effects_API.html#%28def._%28%28lib._effect-lib%2Fmain..rkt%29._pure%29%29" class="RktValLink" data-pltdoc="x">pure</a></span> value containing a <span class="RktSym"><a href="Standard_Effects.html#%28def._%28%28lib._effect-lib%2Feffects%2Fcmd-effect..rkt%29._cmd-result%29%29" class="RktValLink" data-pltdoc="x">cmd-result</a></span>.</p></li><li><p><span class="emph">Failure</span>: If a Racket exception occurs during execution (such as the shell not being found), this function catches the exception and returns a new <span class="RktSym"><a href="Standard_Effects.html#%28def._%28%28lib._effect-lib%2Feffects%2Fcmd-effect..rkt%29._cmd-failure%29%29" class="RktValLink" data-pltdoc="x">cmd-failure</a></span> effect containing the error message.</p></li></ul><p>Because this function can produce a <span class="RktSym"><a href="Standard_Effects.html#%28def._%28%28lib._effect-lib%2Feffects%2Fcmd-effect..rkt%29._cmd-failure%29%29" class="RktValLink" data-pltdoc="x">cmd-failure</a></span> effect, any handler that uses it must also be prepared to handle (or bubble up) <span class="RktSym"><a href="Standard_Effects.html#%28def._%28%28lib._effect-lib%2Feffects%2Fcmd-effect..rkt%29._cmd-failure%29%29" class="RktValLink" data-pltdoc="x">cmd-failure</a></span>.</p><p><div class="SIntrapara">Example:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="Syntactic_Forms.html#%28form._%28%28lib._effect-lib%2Fmain..rkt%29._with-effect-handlers%29%29" class="RktStxLink" data-pltdoc="x">with-effect-handlers</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktSym"><a href="Standard_Effects.html#%28def._%28%28lib._effect-lib%2Feffects%2Fcmd-effect..rkt%29._cmd-effect%29%29" class="RktValLink" data-pltdoc="x">cmd-effect</a></span><span class="hspace">&nbsp;</span><span class="RktSym">c</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Standard_Effects.html#%28def._%28%28lib._effect-lib%2Feffects%2Fcmd-effect..rkt%29._execute-command%29%29" class="RktValLink" data-pltdoc="x">execute-command</a></span><span class="hspace">&nbsp;</span><span class="RktSym">c</span><span class="RktPn">)</span><span class="RktPn">]</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktSym"><a href="Standard_Effects.html#%28def._%28%28lib._effect-lib%2Feffects%2Fcmd-effect..rkt%29._cmd-failure%29%29" class="RktValLink" data-pltdoc="x">cmd-failure</a></span><span class="hspace">&nbsp;</span><span class="RktSym">err</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/Writing.html#%28def._%28%28lib._racket%2Fprivate%2Fmisc..rkt%29._displayln%29%29" class="RktValLink" data-pltdoc="x">displayln</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/Writing.html#%28def._%28%28quote._~23~25kernel%29._format%29%29" class="RktValLink" data-pltdoc="x">format</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"Command failed: ~a"</span><span class="hspace">&nbsp;</span><span class="RktSym">err</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/port-ops.html#%28def._%28%28quote._~23~25kernel%29._current-error-port%29%29" class="RktValLink" data-pltdoc="x">current-error-port</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">abort</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/void.html#%28def._%28%28quote._~23~25kernel%29._void%29%29" class="RktValLink" data-pltdoc="x">void</a></span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">check-status</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><p><span class="RktRes">"checking git status\r\n"</span></p></td></tr></table></blockquote></div></p></section><section class="SsectionLevel3" id="section 3.3"><h3 class="heading">3.3<span class="stt">&nbsp;</span><a name="(part._.H.T.T.P_.Requests)"></a><a name="(mod-path._effect-lib/effects/http-effect)"></a>HTTP Requests<span class="button-group"><a href="#(part._.H.T.T.P_.Requests)" class="heading-anchor" title="Link to here">ðŸ”—</a><span style="visibility: hidden"> </span></span></h3><p><table cellspacing="0" cellpadding="0" class="defmodule"><tr><td align="left" colspan="2"><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/require.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._require%29%29" class="RktStxLink" data-pltdoc="x">require</a></span><span class="stt"> </span><a href="Standard_Effects.html#%28mod-path._effect-lib%2Feffects%2Fhttp-effect%29" class="RktModLink" data-pltdoc="x"><span class="RktSym">effect-lib/effects/http-effect</span></a><span class="RktPn">)</span></td></tr><tr><td align="left">&nbsp;</td><td align="right"><span class="RpackageSpec"><span class="Smaller">&nbsp;package:</span> <a href="https://pkgs.racket-lang.org/package/effect-lib" title="Install this package using `raco pkg install effect-lib`"><span class="stt">effect-lib</span></a></span></td></tr></table></p><p>This module provides effects for performing HTTP network requests.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>struct</p></div></div><table cellspacing="0" cellpadding="0" class="RForeground"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/define-struct.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._struct%29%29" class="RktStxLink" data-pltdoc="x">struct</a></span></td><td><span class="hspace">&nbsp;</span></td><td><a name="(def._((lib._effect-lib/effects/http-effect..rkt)._http-effect-body))"></a><a name="(def._((lib._effect-lib/effects/http-effect..rkt)._http-effect-headers))"></a><a name="(def._((lib._effect-lib/effects/http-effect..rkt)._http-effect-method))"></a><a name="(def._((lib._effect-lib/effects/http-effect..rkt)._http-effect-url))"></a><a name="(def._((lib._effect-lib/effects/http-effect..rkt)._make-http-effect))"></a><a name="(def._((lib._effect-lib/effects/http-effect..rkt)._http-effect~3f))"></a><a name="(def._((lib._effect-lib/effects/http-effect..rkt)._struct~3ahttp-effect))"></a><a name="(def._((lib._effect-lib/effects/http-effect..rkt)._http-effect))"></a><span title="Provided from: effect-lib/effects/http-effect | Package: effect-lib"><span class="RktSym"><a href="Standard_Effects.html#%28def._%28%28lib._effect-lib%2Feffects%2Fhttp-effect..rkt%29._http-effect%29%29" class="RktValDef RktValLink" data-pltdoc="x">http-effect</a></span></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">url</span><span class="stt"> </span><span class="RktSym">method</span><span class="stt"> </span><span class="RktSym">headers</span><span class="stt"> </span><span class="RktSym">body</span><span class="RktPn">)</span></td></tr></table></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">#:extra-constructor-name</span><span class="hspace">&nbsp;</span><span class="RktSym">make-http-effect</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">#:transparent</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">url</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/net/url.html#%28def._%28%28lib._net%2Furl-structs..rkt%29._url~3f%29%29" class="RktValLink" data-pltdoc="x">url?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">method</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/symbols.html#%28def._%28%28quote._~23~25kernel%29._symbol~3f%29%29" class="RktValLink" data-pltdoc="x">symbol?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">headers</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fbase..rkt%29._listof%29%29" class="RktValLink" data-pltdoc="x">listof</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/strings.html#%28def._%28%28quote._~23~25kernel%29._string~3f%29%29" class="RktValLink" data-pltdoc="x">string?</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">body</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fbase..rkt%29._or%2Fc%29%29" class="RktValLink" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/bytestrings.html#%28def._%28%28quote._~23~25kernel%29._bytes~3f%29%29" class="RktValLink" data-pltdoc="x">bytes?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/strings.html#%28def._%28%28quote._~23~25kernel%29._string~3f%29%29" class="RktValLink" data-pltdoc="x">string?</a></span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">The descriptor containing all necessary information to perform a request.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._effect-lib/effects/http-effect..rkt)._http-get))"></a><span title="Provided from: effect-lib/effects/http-effect | Package: effect-lib"><span class="RktSym"><a href="Standard_Effects.html#%28def._%28%28lib._effect-lib%2Feffects%2Fhttp-effect..rkt%29._http-get%29%29" class="RktValDef RktValLink" data-pltdoc="x">http-get</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">url</span><span class="hspace">&nbsp;</span><span class="RktVar">headers</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">effect?</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">url</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/strings.html#%28def._%28%28quote._~23~25kernel%29._string~3f%29%29" class="RktValLink" data-pltdoc="x">string?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">headers</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fbase..rkt%29._listof%29%29" class="RktValLink" data-pltdoc="x">listof</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/strings.html#%28def._%28%28quote._~23~25kernel%29._string~3f%29%29" class="RktValLink" data-pltdoc="x">string?</a></span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">Creates a GET request effect.</div></p><p><div class="SIntrapara">Example:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">fetch-home</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Syntactic_Forms.html#%28form._%28%28lib._effect-lib%2Fmain..rkt%29._do%29%29" class="RktStxLink" data-pltdoc="x">do</a></span><span class="hspace">&nbsp;</span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/pairs.html#%28def._%28%28quote._~23~25kernel%29._list%29%29" class="RktValLink" data-pltdoc="x">list</a></span><span class="hspace">&nbsp;</span><span class="RktSym">status</span><span class="hspace">&nbsp;</span><span class="RktVar">headers</span><span class="hspace">&nbsp;</span><span class="RktSym">body</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym">&lt;-</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Standard_Effects.html#%28def._%28%28lib._effect-lib%2Feffects%2Fhttp-effect..rkt%29._http-get%29%29" class="RktValLink" data-pltdoc="x">http-get</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"https://racket-lang.org"</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">)</span><span class="RktPn">)</span><span class="RktPn">]</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Core_Effects_API.html#%28def._%28%28lib._effect-lib%2Fmain..rkt%29._return%29%29" class="RktValLink" data-pltdoc="x">return</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/Writing.html#%28def._%28%28quote._~23~25kernel%29._format%29%29" class="RktValLink" data-pltdoc="x">format</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"Status: ~a, Body length: ~a"</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym">status</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/strings.html#%28def._%28%28quote._~23~25kernel%29._string-length%29%29" class="RktValLink" data-pltdoc="x">string-length</a></span><span class="hspace">&nbsp;</span><span class="RktSym">body</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr></table></blockquote></div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._effect-lib/effects/http-effect..rkt)._http-post))"></a><span title="Provided from: effect-lib/effects/http-effect | Package: effect-lib"><span class="RktSym"><a href="Standard_Effects.html#%28def._%28%28lib._effect-lib%2Feffects%2Fhttp-effect..rkt%29._http-post%29%29" class="RktValDef RktValLink" data-pltdoc="x">http-post</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">url</span><span class="hspace">&nbsp;</span><span class="RktVar">headers</span><span class="hspace">&nbsp;</span><span class="RktVar">body</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">effect?</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">url</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/strings.html#%28def._%28%28quote._~23~25kernel%29._string~3f%29%29" class="RktValLink" data-pltdoc="x">string?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">headers</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fbase..rkt%29._listof%29%29" class="RktValLink" data-pltdoc="x">listof</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/strings.html#%28def._%28%28quote._~23~25kernel%29._string~3f%29%29" class="RktValLink" data-pltdoc="x">string?</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">body</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fbase..rkt%29._or%2Fc%29%29" class="RktValLink" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/bytestrings.html#%28def._%28%28quote._~23~25kernel%29._bytes~3f%29%29" class="RktValLink" data-pltdoc="x">bytes?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/strings.html#%28def._%28%28quote._~23~25kernel%29._string~3f%29%29" class="RktValLink" data-pltdoc="x">string?</a></span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">Creates a POST request effect.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._effect-lib/effects/http-effect..rkt)._http-put))"></a><span title="Provided from: effect-lib/effects/http-effect | Package: effect-lib"><span class="RktSym"><a href="Standard_Effects.html#%28def._%28%28lib._effect-lib%2Feffects%2Fhttp-effect..rkt%29._http-put%29%29" class="RktValDef RktValLink" data-pltdoc="x">http-put</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">url</span><span class="hspace">&nbsp;</span><span class="RktVar">headers</span><span class="hspace">&nbsp;</span><span class="RktVar">body</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">effect?</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">url</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/strings.html#%28def._%28%28quote._~23~25kernel%29._string~3f%29%29" class="RktValLink" data-pltdoc="x">string?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">headers</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fbase..rkt%29._listof%29%29" class="RktValLink" data-pltdoc="x">listof</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/strings.html#%28def._%28%28quote._~23~25kernel%29._string~3f%29%29" class="RktValLink" data-pltdoc="x">string?</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">body</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fbase..rkt%29._or%2Fc%29%29" class="RktValLink" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/bytestrings.html#%28def._%28%28quote._~23~25kernel%29._bytes~3f%29%29" class="RktValLink" data-pltdoc="x">bytes?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/strings.html#%28def._%28%28quote._~23~25kernel%29._string~3f%29%29" class="RktValLink" data-pltdoc="x">string?</a></span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">Creates a PUT request effect.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._effect-lib/effects/http-effect..rkt)._http-patch))"></a><span title="Provided from: effect-lib/effects/http-effect | Package: effect-lib"><span class="RktSym"><a href="Standard_Effects.html#%28def._%28%28lib._effect-lib%2Feffects%2Fhttp-effect..rkt%29._http-patch%29%29" class="RktValDef RktValLink" data-pltdoc="x">http-patch</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">url</span><span class="hspace">&nbsp;</span><span class="RktVar">headers</span><span class="hspace">&nbsp;</span><span class="RktVar">body</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">effect?</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">url</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/strings.html#%28def._%28%28quote._~23~25kernel%29._string~3f%29%29" class="RktValLink" data-pltdoc="x">string?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">headers</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fbase..rkt%29._listof%29%29" class="RktValLink" data-pltdoc="x">listof</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/strings.html#%28def._%28%28quote._~23~25kernel%29._string~3f%29%29" class="RktValLink" data-pltdoc="x">string?</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">body</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fbase..rkt%29._or%2Fc%29%29" class="RktValLink" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/bytestrings.html#%28def._%28%28quote._~23~25kernel%29._bytes~3f%29%29" class="RktValLink" data-pltdoc="x">bytes?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/strings.html#%28def._%28%28quote._~23~25kernel%29._string~3f%29%29" class="RktValLink" data-pltdoc="x">string?</a></span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">Creates a PATCH request effect.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._effect-lib/effects/http-effect..rkt)._http-delete))"></a><span title="Provided from: effect-lib/effects/http-effect | Package: effect-lib"><span class="RktSym"><a href="Standard_Effects.html#%28def._%28%28lib._effect-lib%2Feffects%2Fhttp-effect..rkt%29._http-delete%29%29" class="RktValDef RktValLink" data-pltdoc="x">http-delete</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">url</span><span class="hspace">&nbsp;</span><span class="RktVar">headers</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">effect?</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">url</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/strings.html#%28def._%28%28quote._~23~25kernel%29._string~3f%29%29" class="RktValLink" data-pltdoc="x">string?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">headers</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fbase..rkt%29._listof%29%29" class="RktValLink" data-pltdoc="x">listof</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/strings.html#%28def._%28%28quote._~23~25kernel%29._string~3f%29%29" class="RktValLink" data-pltdoc="x">string?</a></span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">Creates a DELETE request effect.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._effect-lib/effects/http-effect..rkt)._perform-http-request))"></a><span title="Provided from: effect-lib/effects/http-effect | Package: effect-lib"><span class="RktSym"><a href="Standard_Effects.html#%28def._%28%28lib._effect-lib%2Feffects%2Fhttp-effect..rkt%29._perform-http-request%29%29" class="RktValDef RktValLink" data-pltdoc="x">perform-http-request</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">eff</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">effect?</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">eff</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="Standard_Effects.html#%28def._%28%28lib._effect-lib%2Feffects%2Fhttp-effect..rkt%29._http-effect~3f%29%29" class="RktValLink" data-pltdoc="x">http-effect?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">The default handler implementation using Racket&rsquo;s <span class="RktSym">net/url</span> library.</div></p><p><div class="SIntrapara">It resumes the computation with a list containing:
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><p><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">status-code</span><span class="hspace">&nbsp;</span><span class="RktVal">headers-list</span><span class="hspace">&nbsp;</span><span class="RktVal">body-string</span><span class="RktVal">)</span></p></blockquote></div></p><ul><li><p><span class="RktSym">status-code</span>: Exact integer (e.g., 200, 404).</p></li><li><p><span class="RktSym">headers-list</span>: A list of strings representing response headers.</p></li><li><p><span class="RktSym">body-string</span>: The response body.</p></li></ul><p><div class="SIntrapara">Example:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="Syntactic_Forms.html#%28form._%28%28lib._effect-lib%2Fmain..rkt%29._with-effect-handlers%29%29" class="RktStxLink" data-pltdoc="x">with-effect-handlers</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktSym"><a href="Standard_Effects.html#%28def._%28%28lib._effect-lib%2Feffects%2Fhttp-effect..rkt%29._http-effect%29%29" class="RktValLink" data-pltdoc="x">http-effect</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/net/url.html#%28def._%28%28lib._net%2Furl-structs..rkt%29._url%29%29" class="RktValLink" data-pltdoc="x">url</a></span><span class="hspace">&nbsp;</span><span class="RktSym">method</span><span class="hspace">&nbsp;</span><span class="RktSym">headers</span><span class="hspace">&nbsp;</span><span class="RktSym">body</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Core_Effects_API.html#%28def._%28%28lib._effect-lib%2Fmain..rkt%29._return%29%29" class="RktValLink" data-pltdoc="x">return</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/pairs.html#%28def._%28%28quote._~23~25kernel%29._list%29%29" class="RktValLink" data-pltdoc="x">list</a></span><span class="hspace">&nbsp;</span><span class="RktVal">200</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">"Content-Type: text/html"</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">"&lt;html&gt;Mock Body&lt;/html&gt;"</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">fetch-home</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><p><span class="RktRes">"Status: 200, Body length: 22"</span></p></td></tr></table></blockquote></div></p></section><section class="SsectionLevel3" id="section 3.4"><h3 class="heading">3.4<span class="stt">&nbsp;</span><a name="(part._.The_.Nothing_.Effect)"></a><a name="(mod-path._effect-lib/effects/nothing-effect)"></a>The Nothing Effect<span class="button-group"><a href="#(part._.The_.Nothing_.Effect)" class="heading-anchor" title="Link to here">ðŸ”—</a><span style="visibility: hidden"> </span></span></h3><p><table cellspacing="0" cellpadding="0" class="defmodule"><tr><td align="left" colspan="2"><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/require.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._require%29%29" class="RktStxLink" data-pltdoc="x">require</a></span><span class="stt"> </span><a href="Standard_Effects.html#%28mod-path._effect-lib%2Feffects%2Fnothing-effect%29" class="RktModLink" data-pltdoc="x"><span class="RktSym">effect-lib/effects/nothing-effect</span></a><span class="RktPn">)</span></td></tr><tr><td align="left">&nbsp;</td><td align="right"><span class="RpackageSpec"><span class="Smaller">&nbsp;package:</span> <a href="https://pkgs.racket-lang.org/package/effect-lib" title="Install this package using `raco pkg install effect-lib`"><span class="stt">effect-lib</span></a></span></td></tr></table></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>struct</p></div></div><table cellspacing="0" cellpadding="0" class="RForeground"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/define-struct.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._struct%29%29" class="RktStxLink" data-pltdoc="x">struct</a></span></td><td><span class="hspace">&nbsp;</span></td><td><a name="(def._((lib._effect-lib/effects/nothing-effect..rkt)._make-nothing-effect))"></a><a name="(def._((lib._effect-lib/effects/nothing-effect..rkt)._nothing-effect~3f))"></a><a name="(def._((lib._effect-lib/effects/nothing-effect..rkt)._struct~3anothing-effect))"></a><a name="(def._((lib._effect-lib/effects/nothing-effect..rkt)._nothing-effect))"></a><span title="Provided from: effect-lib/effects/nothing-effect | Package: effect-lib"><span class="RktSym"><a href="Standard_Effects.html#%28def._%28%28lib._effect-lib%2Feffects%2Fnothing-effect..rkt%29._nothing-effect%29%29" class="RktValDef RktValLink" data-pltdoc="x">nothing-effect</a></span></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">)</span></td></tr></table></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">#:extra-constructor-name</span><span class="hspace">&nbsp;</span><span class="RktSym">make-nothing-effect</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">#:transparent</span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">An effect descriptor representing the absence of a value or a specific "no-op" signal.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._effect-lib/effects/nothing-effect..rkt)._nothing))"></a><span title="Provided from: effect-lib/effects/nothing-effect | Package: effect-lib"><span class="RktSym"><a href="Standard_Effects.html#%28def._%28%28lib._effect-lib%2Feffects%2Fnothing-effect..rkt%29._nothing%29%29" class="RktValDef RktValLink" data-pltdoc="x">nothing</a></span></span><span class="RktPn"></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym">effect?</span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">Creates a nothing effect.</div></p><p><div class="SIntrapara">Examples:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">safe-div</span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="RktSym">y</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/if.html#%28form._%28%28quote._~23~25kernel%29._if%29%29" class="RktStxLink" data-pltdoc="x">if</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/number-types.html#%28def._%28%28quote._~23~25kernel%29._zero~3f%29%29" class="RktValLink" data-pltdoc="x">zero?</a></span><span class="hspace">&nbsp;</span><span class="RktSym">y</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Standard_Effects.html#%28def._%28%28lib._effect-lib%2Feffects%2Fnothing-effect..rkt%29._nothing%29%29" class="RktValLink" data-pltdoc="x">nothing</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Core_Effects_API.html#%28def._%28%28lib._effect-lib%2Fmain..rkt%29._return%29%29" class="RktValLink" data-pltdoc="x">return</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/generic-numbers.html#%28def._%28%28quote._~23~25kernel%29._%2F%29%29" class="RktValLink" data-pltdoc="x">/</a></span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="RktSym">y</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">calc-ratio</span><span class="hspace">&nbsp;</span><span class="RktSym">a</span><span class="hspace">&nbsp;</span><span class="RktSym">b</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Syntactic_Forms.html#%28form._%28%28lib._effect-lib%2Fmain..rkt%29._do%29%29" class="RktStxLink" data-pltdoc="x">do</a></span><span class="hspace">&nbsp;</span><span class="RktPn">[</span><span class="RktSym">res</span><span class="hspace">&nbsp;</span><span class="RktSym">&lt;-</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">safe-div</span><span class="hspace">&nbsp;</span><span class="RktSym">a</span><span class="hspace">&nbsp;</span><span class="RktSym">b</span><span class="RktPn">)</span><span class="RktPn">]</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Core_Effects_API.html#%28def._%28%28lib._effect-lib%2Fmain..rkt%29._return%29%29" class="RktValLink" data-pltdoc="x">return</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/Writing.html#%28def._%28%28quote._~23~25kernel%29._format%29%29" class="RktValLink" data-pltdoc="x">format</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"Ratio is ~a"</span><span class="hspace">&nbsp;</span><span class="RktSym">res</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr></table></blockquote></div></p><p>This effect is often used by handlers of other effects to signal failure or early termination without crashing the entire program, effectively replacing a typed result with "nothing".</p><p>When handling this effect, it is common to either abort the computation or resume with a default value (like <span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/void.html#%28def._%28%28quote._~23~25kernel%29._void%29%29" class="RktValLink" data-pltdoc="x">void</a></span><span class="RktPn">)</span> or <span class="RktVal">#f</span>).</p><p><div class="SIntrapara">Examples:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="Syntactic_Forms.html#%28form._%28%28lib._effect-lib%2Fmain..rkt%29._with-effect-handlers%29%29" class="RktStxLink" data-pltdoc="x">with-effect-handlers</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktSym"><a href="Standard_Effects.html#%28def._%28%28lib._effect-lib%2Feffects%2Fnothing-effect..rkt%29._nothing-effect%29%29" class="RktValLink" data-pltdoc="x">nothing-effect</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Core_Effects_API.html#%28def._%28%28lib._effect-lib%2Fmain..rkt%29._return%29%29" class="RktValLink" data-pltdoc="x">return</a></span><span class="hspace">&nbsp;</span><span class="RktVal">0.0</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">calc-ratio</span><span class="hspace">&nbsp;</span><span class="RktVal">10</span><span class="hspace">&nbsp;</span><span class="RktVal">0</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><p><span class="RktRes">"Ratio is 0.0"</span></p></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="Syntactic_Forms.html#%28form._%28%28lib._effect-lib%2Fmain..rkt%29._with-effect-handlers%29%29" class="RktStxLink" data-pltdoc="x">with-effect-handlers</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktSym"><a href="Standard_Effects.html#%28def._%28%28lib._effect-lib%2Feffects%2Fnothing-effect..rkt%29._nothing-effect%29%29" class="RktValLink" data-pltdoc="x">nothing-effect</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">abort</span><span class="hspace">&nbsp;</span><span class="RktVal">"Calculation failed"</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">calc-ratio</span><span class="hspace">&nbsp;</span><span class="RktVal">10</span><span class="hspace">&nbsp;</span><span class="RktVal">0</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><p><span class="RktRes">"Calculation failed"</span></p></td></tr></table></blockquote></div></p></section></section><div class="navsetbottom"><span class="navleft"><div class="nosearchform"></div>&nbsp;&nbsp;<span class="tocsettoggle">&nbsp;&nbsp;<a href="javascript:void(0);" title="show/hide table of contents" onclick="TocsetToggle();">contents</a></span></span><span class="navright">&nbsp;&nbsp;<a href="Syntactic_Forms.html" title="backward to &quot;2 Syntactic Forms&quot;" data-pltdoc="x" rel="prev">&larr; prev</a>&nbsp;&nbsp;<a href="index.html" title="up to &quot;Algebraic Effects&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<span class="nonavigation">next &rarr;</span></span>&nbsp;</div></div></div><div id="contextindicator">&nbsp;</div></body></html>